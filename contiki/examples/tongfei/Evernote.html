<html>
<head>
  <title>Evernote Export</title>
  <basefont face="Tahoma" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/277494; Windows/6.1.7601 Service Pack 1 (Win64);"/>
  <style>
    body, td {
      font-family: Tahoma;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="5043"/>

<div>
<span><div><strong style="font-size: 21px;">Feb. 11, 2016,</strong></div><div>======================================</div><div><div><strong style="font-size: 21px;">下载程序到micaz板子上时现现的问题：</strong></div><div><strong style="font-size: 21px;">令令： make hello-world.upload PORT=/dev/ttyUSB0<br clear="none"/></strong></div><div><strong style="font-size: 21px;">问题： /usr/lib/avr/include/avr/boot.h:121:15: error: attempt to use poisoned &quot;SPMCR&quot;<br clear="none"/>
解决案案：<br clear="none"/></strong></div><div><strong style="font-size: 21px;">将<strong style="font-size: 21px;">/usr/lib/avr/include/avr/boot.h</strong>中的<br clear="none"/></strong></div><div><strong style="font-size: 21px;"><br clear="none"/></strong></div><div><span style="color: rgb(255, 0, 0);"><strong style="font-size: 21px;">#if defined (SPMCSR)<br clear="none"/>
#  define __SPM_REG    SPMCSR<br clear="none"/>
#elif defined (SPMCR)<br clear="none"/>
#  define __SPM_REG    SPMCR<br clear="none"/>
#else<br clear="none"/>
#  error AVR processor does not provide bootloader support!<br clear="none"/>
#endif<br clear="none"/></strong></span></div><div><strong style="font-size: 21px;"><br clear="none"/></strong></div><div><strong style="font-size: 21px;">替换为：<br clear="none"/></strong></div><div><strong style="font-size: 21px;"><br clear="none"/></strong></div><div><pre><strong style="font-size: 21px;"><span style="color: rgb(51, 153, 102);">/* Check for SPM Control Register in processor. */
#if defined (SPMCSR)
#  define __SPM_REG    SPMCSR
#else
#  if defined (SPMCR)
#    define __SPM_REG    SPMCR
#  else
#    error AVR processor does not provide bootloader support!
#  endif
#endif</span></strong></pre><strong style="font-size: 21px;"><br clear="none"/></strong></div><div><strong style="font-size: 21px;"><br clear="none"/></strong></div><div><strong style="font-size: 21px;">May.22 2015</strong></div><div>======================================</div><div><span style="font-size: large;"><strong><br clear="none"/></strong></span></div>
MICAZ node ID:</div><div><br clear="none"/></div><div>sink: 0</div><div>node 2: 3404</div><div>node 3: 3443</div><div>node 4: 3272</div><div>node 5: 3348</div><div><br clear="none"/></div><div><br clear="none"/></div><div><br clear="none"/></div><div><br clear="none"/></div><div><strong style="font-size: 21px;">May.21 2015, sunning</strong></div><div>======================================</div><div><strong style="font-size: 16px;">在linux系统的笔记本上</strong>，用usb转串口的MIB510 或 直接usb的MIB520 连接 micaz mote。</div><div><span style="font-size: 19px;"><b>需要设置Minicom来看输出：</b></span></div><div>要想用cat /dev/ttyUSBx 来获得mote的输出结果，都需要先设置minicom： sudo minicom -s</div><div><br clear="none"/></div><div><br clear="none"/></div><div>============================================</div><div>Micaz2 基于MPR2600平台：</div><div>     2.4GHz ISM Band</div><div>     ATmel ATMega 128L</div><div>     TI CC2420</div><div>Flash: Atmel At45DB41B (512KB)</div><div>RAM: 4KB (for DATA)</div><div><br clear="none"/></div><div>============================================</div><div>Micaz 不需要用watchdog， 但cxmac中使用了watchdog, 导致板子周期性重启</div><div><br clear="none"/></div><div>============================================</div><div>用命令检查elf文件的大小：</div><div>avr-size -C --mcu  atmega128  hello-world-micaz.elf</div><div>输出的结果举例：</div><div>AVR Memory Usage<br clear="none"/>
----------------<br clear="none"/>
Device: atmega128<br clear="none"/><br clear="none"/>
Program:   25984 bytes (19.8% Full)<br clear="none"/>
(.text + .data + .bootloader)<br clear="none"/><br clear="none"/>
Data:       2740 bytes (66.9% Full)<br clear="none"/>
(.data + .bss + .noinit)<br clear="none"/></div><div><br clear="none"/></div><div>============================================</div><div>RAM 不够问题：</div><div>If RAM is over 80%, you can decrease the number of QUEUE_BUF_CONF_NIM, UIP_CONF_MAX_CONNECTIONS and FWCACHE_SIZE</div><div><br clear="none"/></div><div><strong style="font-size: 21px;">May.01 2015, sunning</strong></div><div>======================================</div><div style="font-size: 32px;"><strong>4 micaz motes</strong></div><div><br clear="none"/></div><div>linkaddr_node_addr.u8[0]=6;</div><div>make hello-world.upload TARGET=micaz PORT=/dev/ttyUSB0</div><div>node 6: /dev/ttyUSB0</div><div>cat /dev/ttyUSB0 <span style="font-size: 15px;">2&gt;&amp;1 | tee </span>logs_micaz<span style="font-size: 15px;">/6.txt</span></div><div><span style="font-size: 15px;"><br clear="none"/></span></div><div>linkaddr_node_addr.u8[0]=2;</div><div>make hello-world.upload TARGET=micaz PORT=/dev/ttyUSB1</div><div>node 2: /dev/ttyUSB1 /dev/ttyUSB2</div><div>cat /dev/ttyUSB2 <span style="font-size: 15px;">2&gt;&amp;1 | tee </span>logs_micaz<span style="font-size: 15px;">/2.txt</span></div><div><span style="color: #ba00ff;"><strong style="font-size: 15px;">Note</strong><span style="font-size: 15px;">: if you wanna use cat to obtain the output, first use minicom and set the output path, then exit without reset by pressing ctrl+A-&gt;Z-&gt;Q.</span></span></div><div><span style="font-size: 15px;"><br clear="none"/></span></div><div><span style="font-size: 15px;"><br clear="none"/></span></div><div>linkaddr_node_addr.u8[0]=7;</div><div>make hello-world.upload TARGET=micaz PORT=/dev/ttyUSB3</div><div><span style="font-size: 15px;">node 7: /dev/ttyUSB3 and /dev/ttyUSB4</span></div><div>cat /dev/ttyUSB4 <span style="font-size: 15px;">2&gt;&amp;1 | tee </span>logs_micaz<span style="font-size: 15px;">/7.txt</span></div><div><br/></div><div><hr/></div><div><br/></div><div style="font-size: 21px;"><strong>修改contiki/platform/micaz/contiki-conf.h文件:</strong></div><div>#define NETSTACK_CONF_MAC     nullmac_driver//csma_driver //changed to nullmac_driver, by Fei</div><div>#define NETSTACK_CONF_RDC     primac_driver//cxmac_driver //changed to primac_driver, by Fei</div><div><br/></div><div>======================================</div><div style="font-size: 21px;"><strong>修改contiki/platform/micaz/platform-conf.h文件：</strong></div><div><br clear="none"/></div><div>/* Clock ticks per second */<br clear="none"/>
#define CLOCK_CONF_SECOND 128UL /*<strong style="font-size: 16px;">modified by fei tong. original: 128</strong> */<br clear="none"/>
#if 0     /* <strong style="font-size: 16px;">modified by fei tong</strong> : &quot;#if 1&quot; --&gt; &quot;#if 0&quot;*/<br clear="none"/>
/* 16 bit counter overflows every ~10 minutes */<br clear="none"/>
typedef unsigned short clock_time_t;<br clear="none"/>
#define CLOCK_LT(a,b)  ((signed short)((a)-(b)) &lt; 0)<br clear="none"/>
#define INFINITE_TIME 0xffff<br clear="none"/>
#define RIME_CONF_BROADCAST_ANNOUNCEMENT_MAX_TIME INFINITE_TIME/CLOCK_CONF_SECOND /* Default uses 600 */<br clear="none"/>
#define COLLECT_CONF_BROADCAST_ANNOUNCEMENT_MAX_TIME INFINITE_TIME/CLOCK_CONF_SECOND /* Default uses 600 */<br clear="none"/>
#else<br clear="none"/>
typedef unsigned long clock_time_t;<br clear="none"/>
#define CLOCK_LT(a,b)  ((signed long)((a)-(b)) &lt; 0)<br clear="none"/>
#define INFINITE_TIME 0xffffffff<br clear="none"/>
#endif</div></span>
</div>
<hr>
<a name="4895"/>

<div>
<span><br/><div style="font-style:normal;font-variant:normal;font-weight:normal;font-size:13px;font-family:Arial, Tahoma, Helvetica, FreeSans, sans-serif;color:rgb(68, 68, 68);background:none 0% 0% repeat scroll rgb(238, 238, 238);"><div style="margin:0px;height:30px;padding:0px;"><div style="position:absolute;min-height:0px;margin:0px;z-index:10;left:0px;width:100%;padding:0px;border:none;background:none;margin-top:0px;"><div style="display:block;height:30px;width:100%px;position:relative;"><div style="font-size: 16px"><div dir="ltr"><div style="padding:0px;margin:0px;"><div style="white-space:nowrap;color:rgb(68, 68, 68);height:29px;border-bottom-width:1px;border-bottom-style:solid;border-bottom-color:rgb(136, 136, 136);font-size:13px;font-family:Arial, sans-serif;position:relative;background:transparent;"><div><table border="0" cellpadding="0" cellspacing="0" style="font-size:inherit;font-weight:inherit;font-style:inherit;font-variant:inherit;margin-left:0.2em;height:29px;width:1048px;" width="100%"><tbody><tr style="height:20px;"><td style="width:2.876696211467566%;" valign="middle" width="24px"><a href="http://www.blogger.com/" style="display:block;margin-right:8px;margin-left:8px;width:20px;height:20px;cursor:pointer;background:url(https://img1.blogblog.com/img/navbar/icons_peach.png) -26px 0px no-repeat;" title="转到 Blogger.com"></a></td><td style="width:13.424582320181976%;" valign="middle" width="150px"><div style="display:inline;"><div style="margin:0px 0.5em 0px 0px;border:1px solid rgb(170, 170, 170);border-top-left-radius:3px;border-top-right-radius:3px;border-bottom-right-radius:3px;border-bottom-left-radius:3px;padding:0px 0.3em;background-color:rgb(255, 255, 255);"><table cellpadding="0" cellspacing="0" style="font-size:inherit;font-weight:inherit;font-style:inherit;font-variant:inherit;width:134px;"><tbody><tr><td style="width:74.07286922576446%;" valign="middle"></td><td style="width:26.119402985074625%;" valign="middle"><a style="display:block;width:13px;height:13px;cursor:pointer;background:url(https://img1.blogblog.com/img/navbar/icons_peach.png) 0px 0px no-repeat;" title="搜索此博客"></a></td></tr></tbody></table></div></div></td><td nowrap="nowrap" style="width:53.698329280727904%;" valign="middle"><div style="vertical-align:baseline;zoom:1;text-indent:0px;margin:0px;padding:0px;border-style:none;float:none;font-size:1px;display:inline-block;width:90px;height:20px;background:transparent;"><div style="position:relative;top:0px;width:100%px;margin:0px;border-style:none;left:0px;visibility:visible;height:20px;"><div style="font-size: 16px"><div dir="ltr" lang="zh"><div style="-webkit-font-smoothing:antialiased;margin:0px;padding:0px;background-color:transparent;"><div dir="ltr"><div style="float:left;position:relative;border:1px solid rgb(204, 204, 204);border-top-left-radius:2px;border-top-right-radius:2px;border-bottom-right-radius:2px;border-bottom-left-radius:2px;background:rgb(255, 255, 255);margin-left:5px;"><div style="float:left;position:relative;max-width:53px;min-width:10px;"><div style="color:rgb(102, 102, 102);font-family:Roboto, arial, sans-serif;overflow:hidden;white-space:nowrap;font-size:11px;margin:1px 6px;height:16px;">0</div></div></div></div></div></div></div></div></div><a style="display:inline-block;font-size:13px;vertical-align:middle;padding:2px 0.4em;color:rgb(51, 51, 51);text-decoration:none;white-space:nowrap;cursor:pointer;">更多</a> <a href="https://www.blogger.com/next-blog?navBar=true&amp;blogID=2823314722081694092" style="display:inline-block;font-size:13px;vertical-align:middle;padding:2px 0.4em;color:rgb(51, 51, 51);text-decoration:none;white-space:nowrap;cursor:pointer;">下一个博客»</a></td><td align="right" nowrap="nowrap" style="text-align:right;width:23.972468428896384%;" valign="middle"><a href="http://www.blogger.com/home#create" style="display:inline-block;font-size:13px;vertical-align:middle;padding:2px 0.4em;color:rgb(51, 51, 51);text-decoration:none;white-space:nowrap;cursor:pointer;">创建博客</a> <a href="http://www.blogger.com/" style="display:inline-block;font-size:13px;vertical-align:middle;padding:2px 0.4em;color:rgb(51, 51, 51);text-decoration:none;white-space:nowrap;cursor:pointer;">登录</a></td></tr></tbody></table></div></div></div></div></div></div></div></div><div style="position:relative;word-wrap:break-word;"><div style="position:relative;min-height:0px;margin:0px auto;width:100%;"><div style="position:relative;background-position:0% 0%;background-repeat:repeat-y;"><div style="padding:0px;"><div style="display:block;"><div style="position:relative;min-height:0px;margin:0px;background:none 0px 0px repeat scroll transparent;"><div style="position:relative;background-position:0% 0%;background-repeat:repeat-y;"><div style="min-height:0px;margin:0px auto;min-width:960px;max-width:960px;"><div style="margin:0px 16px;"><div style="position:relative;min-height:0px;margin:0px;margin-top:0px;margin-bottom:0px;"><div style="overflow:hidden;"><div style="padding:22px 30px 0px;padding-left:0px;padding-right:0px;margin-bottom:0px;padding-top:22px;"><h1 style="margin:0px;position:relative;margin-bottom:10px;font-style:normal;font-weight:bold;font-variant:normal;font-size:40px;font-family:Arial, Tahoma, Helvetica, FreeSans, sans-serif;color:rgb(68, 68, 68);"><a href="http://iotnet.blogspot.kr/" style="text-decoration:none;color:rgb(68, 68, 68);">Internet of Things</a></h1></div><div style="padding:0px 30px;margin-bottom:0px;padding-left:0px;padding-right:0px;"><p style="margin:0.5em 0px 10px;padding:0px 2px;font-style:normal;font-variant:normal;font-weight:normal;font-size:14px;font-family:Arial, Tahoma, Helvetica, FreeSans, sans-serif;color:rgb(68, 68, 68);"></p></div></div></div></div></div></div></div></div><div style="position:relative;min-height:0px;"><div style="position:relative;background-position:0% 0%;background-repeat:repeat-y;"><div style="position:relative;min-height:0px;padding:30px 0px;margin:0px auto;padding-top:30px;"><div style="zoom:1;position:relative;padding-left:0px;padding-right:310px;"><div style="min-height:0px;"><div style="position:relative;float:left;width:100%;"><div style="padding:0px 5px;"><div style="margin:0px 27px;padding:0px;"><div style="position:relative;min-height:0px;margin:20px -16px;border:none;padding:0px;-webkit-box-shadow:rgba(0, 0, 0, 0) 0px 0px 0px;box-shadow:rgba(0, 0, 0, 0) 0px 0px 0px;border-top-left-radius:0px;border-top-right-radius:0px;border-bottom-right-radius:0px;border-bottom-left-radius:0px;background-color:transparent;margin-bottom:1em;margin-top:0px;"><div style="position:relative;margin:30px 0px 20px;padding:0px 15px;border:1px solid rgb(238, 238, 238);-webkit-box-shadow:rgba(0, 0, 0, 0.2) 0px 0px 20px;box-shadow:rgba(0, 0, 0, 0.2) 0px 0px 20px;border-top-left-radius:0px;border-top-right-radius:0px;border-bottom-right-radius:0px;border-bottom-left-radius:0px;background-color:rgb(255, 255, 255);margin-top:0px;margin-bottom:20px;"><h2 style="margin:0px -15px 1px;position:static;font-style:normal;font-weight:normal;font-variant:normal;font-size:14px;font-family:Arial, Tahoma, Helvetica, FreeSans, sans-serif;color:rgb(68, 68, 68);min-height:0px;padding:0px;border-bottom-width:1px;border-bottom-style:solid;border-bottom-color:transparent;border-top-width:0px;border-top-style:solid;border-top-color:rgb(238, 238, 238);border-top-left-radius:0px;border-top-right-radius:0px;bottom:100%;right:15px;background:none 0% 0% no-repeat scroll transparent;"><span style="font-style:normal;font-variant:normal;font-weight:normal;font-size:14px;font-family:Arial, Tahoma, Helvetica, FreeSans, sans-serif;display:block;padding:0.5em 15px;border-left-width:0px;border-left-style:solid;border-left-color:rgb(238, 238, 238);border-right-width:0px;border-right-style:solid;border-right-color:rgb(238, 238, 238);">2014년 7월 20일 일요일</span></h2><div style="margin:0px -15px;padding:0px 15px;clear:both;border-top-width:1px;border-top-style:solid;border-top-color:rgb(238, 238, 238);padding-top:8px;"><div style="border-top-width:1px;border-top-style:none;border-top-color:rgb(238, 238, 238);margin:0px -15px;padding:15px;padding-bottom:10px;padding-top:0px;border-bottom-style:none;"><div style="position:relative;min-height:0px;"><a name="4337513000999138955"></a><h3 style="margin:0px;position:relative;font-style:normal;font-weight:bold;font-variant:normal;font-size:22px;font-family:Arial, Tahoma, Helvetica, FreeSans, sans-serif;color:rgb(68, 68, 68);">[콘티키/Contiki] 미카즈(Micaz)에 콘티키 올리기 (2) : uisp command not found</h3><div style="width:100%;position:relative;">Micaz에 콘티키를 바로 올리려는 시도를 하면 아래와 같은 에러 메세지가 뜰 수 있습니다.<br/><br/>
make: uisp: Command not found<br/><br/><a href="http://1.bp.blogspot.com/-_KFP9o4rbkc/U8yqyzjHoYI/AAAAAAAAALY/WkBbF_KqAIU/s1600/pic1.png" style="text-decoration:none;color:rgb(55, 120, 205);clear:left;float:left;margin-bottom:1em;margin-right:1em;"><img src="Evernote_files/pic1.png" type="image/png" border="0" height="40" style="border: 1px solid transparent; position: relative; padding: 8px; -webkit-box-shadow: rgba(0, 0, 0, 0.199219) 0px 0px 0px; box-shadow: rgba(0, 0, 0, 0.199219) 0px 0px 0px; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; background-color: transparent; height: auto; background-position: initial initial; background-repeat: initial initial;" width="400"/></a><br/><br/><br/><br/><br/>
해결 방법:<br/><br/>
간단한 해결 방법은 tinyos-tools 을 설치하는 것이에요.<br/><br/>
과정이 조금 복잡하긴 한데, 다음과 같이 순서로 진행하면 됩니다.<br/><br/>
1. Tell apt about the TinyProd Signing Key.<br/><br/><span style="background-color:#cccccc;">gpg --keyserver keyserver.ubuntu.com --recv-keys A9B913B9</span><br/><span style="background-color:#cccccc;">gpg -a --export A9B913B9 | sudo apt-key add -</span><br/><br/>
2. Add the following lines to /etc/apt/sources.list.d/tinyprod-debian.list:<br/><br/>
deb http://tinyprod.net/repos/debian wheezy main<br/>
deb http://tinyprod.net/repos/debian msp430-46 main
<div><br/></div><div>方法如下：</div><div><br/></div><span style="background-color:#cccccc;">sudo -s</span><br/><span style="background-color:#cccccc;">cd /etc/apt/sources.list.d</span><br/><span style="background-color:#cccccc;">echo &quot;deb http://tinyprod.net/repos/debian wheezy main&quot; &gt;&gt; tinyprod-debian.list</span><br/><span style="background-color:#cccccc;">echo &quot;deb http://tinyprod.net/repos/debian msp430-46 main&quot; &gt;&gt; tinyprod-debian.list</span><br/><br/>
3. Install tinyos tools<br/><br/><span style="background-color:#cccccc;">sudo apt-get update</span><br/><span style="background-color:#cccccc;">sudo apt-get install tinyos-tools</span><br/><br/><br/>
4. 이렇게 하고<br/><br/>
CONTIKI/example/hello-world 폴더에서 다음과 같은 명령어로 미카즈에 콘티키를 올릴 수 있어요.<br/><br/><span style="background-color:#cccccc;">sudo make hello-world.upload TARGET=micaz PORT=/dev/ttyUSB0</span><br/><br/><div style="clear:both;text-align:left;"><a href="http://1.bp.blogspot.com/-03NZZCFxbC4/U8yq6Q5SS_I/AAAAAAAAALg/0qUiIVXSMno/s1600/pic2.png" style="text-decoration:none;color:rgb(55, 120, 205);margin-left:1em;margin-right:1em;"><img src="Evernote_files/pic2.png" type="image/png" border="0" height="127" style="border: 1px solid transparent; position: relative; padding: 8px; -webkit-box-shadow: rgba(0, 0, 0, 0.199219) 0px 0px 0px; box-shadow: rgba(0, 0, 0, 0.199219) 0px 0px 0px; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; background-color: transparent; height: auto; background-position: initial initial; background-repeat: initial initial;" width="400"/></a></div><br/><br/><br/><br/>
참고 : <a href="http://tinyprod.net/repos/debian/" style="text-decoration:none;color:rgb(55, 120, 205);">http://tinyprod.net/repos/debian/</a></div><div style="margin:1.5em 0px 0px;"><div><span style="margin-right:1em;margin-left:0px;">작성자: <a href="http://www.blogger.com/profile/02007644907342643695" rel="author" style="text-decoration:none;color:rgb(55, 120, 205);" title="author profile">Kim</a></span> <span style="margin-right:1em;margin-left:-1em;">시간: <a href="http://iotnet.blogspot.kr/2014/07/contiki-micaz-2-uisp-command-not-found.html" rel="bookmark" style="text-decoration:none;color:rgb(55, 120, 205);" title="permanent link"><abbr style="border:none;" title="2014-07-20T22:54:00-07:00">오후 10:54</abbr></a></span><div style="display:inline-block;margin-top:0.5em;vertical-align:middle;position:relative;margin-right:0px;"><a href="http://www.blogger.com/share-post.g?blogID=2823314722081694092&amp;postID=4337513000999138955&amp;target=email" style="width:20px;height:20px;overflow:hidden;margin-left:-1px;position:relative;background:url(https://www.blogger.com/img/share_buttons_20_3.png) 0% 50% no-repeat;background-position:0px 0px;display:inline-block;text-decoration:none;color:rgb(55, 120, 205);" target="_blank" title="이메일로 전송"><span style="display:block;text-indent:-9999px;">이메일로 전송</span></a><a href="http://www.blogger.com/share-post.g?blogID=2823314722081694092&amp;postID=4337513000999138955&amp;target=blog" style="width:20px;height:20px;overflow:hidden;margin-left:-1px;position:relative;background:url(https://www.blogger.com/img/share_buttons_20_3.png) 0% 50% no-repeat;background-position:-20px 0px;display:inline-block;text-decoration:none;color:rgb(55, 120, 205);" target="_blank" title="BlogThis!"><span style="display:block;text-indent:-9999px;">BlogThis!</span></a><a href="http://www.blogger.com/share-post.g?blogID=2823314722081694092&amp;postID=4337513000999138955&amp;target=twitter" style="width:20px;height:20px;overflow:hidden;margin-left:-1px;position:relative;background:url(https://www.blogger.com/img/share_buttons_20_3.png) 0% 50% no-repeat;background-position:-40px 0px;display:inline-block;text-decoration:none;color:rgb(55, 120, 205);" target="_blank" title="Twitter에서 공유"><span style="display:block;text-indent:-9999px;">Twitter에서 공유</span></a><a href="http://www.blogger.com/share-post.g?blogID=2823314722081694092&amp;postID=4337513000999138955&amp;target=facebook" style="width:20px;height:20px;overflow:hidden;margin-left:-1px;position:relative;background:url(https://www.blogger.com/img/share_buttons_20_3.png) 0% 50% no-repeat;background-position:-60px 0px;display:inline-block;text-decoration:none;color:rgb(55, 120, 205);" target="_blank" title="Facebook에서 공유"><span style="display:block;text-indent:-9999px;">Facebook에서 공유</span></a><a href="http://www.blogger.com/share-post.g?blogID=2823314722081694092&amp;postID=4337513000999138955&amp;target=pinterest" style="width:20px;height:20px;overflow:hidden;margin-left:-1px;position:relative;background:url(https://www.blogger.com/img/share_buttons_20_3.png) 0% 50% no-repeat;background-position:-100px 0px;display:inline-block;text-decoration:none;color:rgb(55, 120, 205);" target="_blank" title="Pinterest에 공유"><span style="display:block;text-indent:-9999px;">Pinterest에 공유</span></a><div style="vertical-align:top;padding-left:0.3em;position:relative;display:inline-block;"><div style="text-indent:0px;margin:0px;padding:0px;border-style:none;float:none;font-size:1px;vertical-align:baseline;display:inline-block;width:300px;height:20px;background:transparent;"><div style="position:relative;top:0px;width:100%px;margin:0px;border-style:none;left:0px;visibility:visible;height:20px;"><div style="font-size: 16px"><div dir="ltr" lang="ko"><div style="-webkit-font-smoothing:antialiased;margin:0px;padding:0px;background-color:transparent;"><div dir="ltr"><table style="font-size:inherit;font-weight:inherit;font-style:inherit;font-variant:inherit;border-collapse:collapse;display:table;width:144px;"><tbody><tr style="display:table-row;"><td style="border-spacing:0px;display:table-cell;font-size:11px;padding:0px;text-align:left;padding-right:5px;width:25.694444444444443%;" valign="top"></td><td style="border-spacing:0px;display:table-cell;font-size:11px;padding:0px;text-align:left;width:74.30555555555556%;"><div><table style="font-size:inherit;font-weight:inherit;font-style:inherit;font-variant:inherit;border-collapse:collapse;display:table;width:107px;"><tbody><tr style="display:table-row;"><td style="border-spacing:0px;display:table-cell;font-size:11px;padding:0px;text-align:left;width:100%;"><span style="color:rgb(102, 102, 102);font-style:normal;font-variant:normal;font-weight:normal;font-size:11px;font-family:Roboto, arial, sans-serif;white-space:normal;display:inline-block;">Google에 이 URL 추천</span></td></tr></tbody></table></div></td></tr></tbody></table></div></div></div></div></div></div></div></div></div></div></div><div style="clear:both;margin-top:2em;margin-bottom:0px;position:relative;min-height:0px;"><a name="comments"></a><h4 style="margin:0px;position:relative;font-style:normal;font-weight:bold;font-variant:normal;font-size:22px;font-family:Arial, Tahoma, Helvetica, FreeSans, sans-serif;color:rgb(68, 68, 68);">댓글 없음:</h4><div><dl style="margin-left:45px;position:relative;"></dl></div><p style="margin:0.5em 25px 1.5em;"></p><div style="clear:both;"><a name="comment-form"></a><h4 style="margin:0px;position:relative;font-style:normal;font-weight:bold;font-variant:normal;font-size:22px;font-family:Arial, Tahoma, Helvetica, FreeSans, sans-serif;color:rgb(68, 68, 68);">댓글 쓰기</h4><a href="https://www.blogger.com/comment-iframe.g?blogID=2823314722081694092&amp;postID=4337513000999138955&amp;blogspotRpcToken=8038172" style="text-decoration:none;color:rgb(55, 120, 205);"></a><div style="width:100%px;height:258pxpx;position:relative;"><div style="font-size: 16px"><div dir="ltr"><div style="font-family:Arial, Tahoma, Helvetica, FreeSans, sans-serif;font-size:13px;color:rgb(68, 68, 68);"><div style="font-family:arial, sans-serif;font-size:13px;border-width:1px;border-style:solid;border-color:rgb(229, 229, 229) rgb(229, 229, 229) rgb(238, 238, 238);background-color:rgb(255, 255, 255);"><div style="font-family:arial, sans-serif;font-size:13px;padding:18px 22px 10px;"><br/><div style="font-family:arial, sans-serif;font-size:13px;padding-top:8px;"><span style="font-weight:bold;color:rgb(102, 102, 102);">작성자</span></div></div></div></div></div></div></div></div><a href="http://iotnet.blogspot.kr/2014/07/contiki-micaz-2-uisp-command-not-found.html#comment-form" style="text-decoration:none;color:rgb(55, 120, 205);">댓글 쓰기</a></div></div></div></div><div style="margin:1em 0px;text-align:center;overflow:hidden;padding:15px;font-size:120%;border:1px solid rgb(238, 238, 238);-webkit-box-shadow:rgba(0, 0, 0, 0.2) 0px 0px 20px;box-shadow:rgba(0, 0, 0, 0.2) 0px 0px 20px;border-bottom-right-radius:0px;border-bottom-left-radius:0px;border-top-right-radius:0px;border-top-left-radius:0px;margin-top:1em;background-color:rgb(255, 255, 255);"><span style="float:left;"><a href="http://iotnet.blogspot.kr/2014/07/contiki-mac-rdc.html" style="text-decoration:none;color:rgb(55, 120, 205);" title="최근 게시물">최근 게시물</a></span> <span style="float:right;"><a href="http://iotnet.blogspot.kr/2014/07/contiki-micaz.html" style="text-decoration:none;color:rgb(55, 120, 205);" title="이전 게시물">이전 게시물</a></span> <a href="http://iotnet.blogspot.kr/" style="text-decoration:none;color:rgb(55, 120, 205);">홈</a></div><div style="margin:1em 0px;text-align:center;color:rgb(68, 68, 68);"><div>피드 구독하기: <a href="http://iotnet.blogspot.com/feeds/4337513000999138955/comments/default" style="text-decoration:none;color:rgb(55, 120, 205);" target="_blank" type="application/atom+xml">댓글 (Atom)</a></div></div></div></div></div></div><div style="position:relative;float:left;margin-top:0px;width:310px;margin-right:-310px;"><div style="padding:0px 5px;-webkit-box-shadow:rgba(0, 0, 0, 0.2) 0px 0px 0px;box-shadow:rgba(0, 0, 0, 0.2) 0px 0px 0px;border-top-left-radius:0px;border-top-right-radius:0px;border-bottom-right-radius:0px;border-bottom-left-radius:0px;background:none 0px 0px repeat transparent;"><div style="display:block;"><div style="margin:0px 27px;padding:0px;"><div style="position:relative;min-height:0px;margin:20px -16px;font-style:normal;font-variant:normal;font-weight:normal;font-size:14px;font-family:Arial, Tahoma, Helvetica, FreeSans, sans-serif;color:rgb(68, 68, 68);border:1px solid rgb(238, 238, 238);padding:0px 15px 15px;-webkit-box-shadow:rgba(0, 0, 0, 0.2) 0px 0px 20px;box-shadow:rgba(0, 0, 0, 0.2) 0px 0px 20px;border-top-left-radius:0px;border-top-right-radius:0px;border-bottom-right-radius:0px;border-bottom-left-radius:0px;background-color:rgb(255, 255, 255);margin-top:0px;"><h2 style="margin:0px -15px;position:relative;font-style:normal;font-weight:bold;font-variant:normal;font-size:14px;font-family:Arial, Tahoma, Helvetica, FreeSans, sans-serif;color:rgb(68, 68, 68);padding:0.6em 15px 0.5em;border-bottom-width:1px;border-bottom-style:solid;border-bottom-color:transparent;">블로그 보관함</h2><div style="border-top-width:1px;border-top-style:solid;border-top-color:rgb(238, 238, 238);margin:0px -15px;padding:7px 15px 0px;"><div style="text-align:left;margin:-8px 0px 0px;"><div><ul style="padding:0px;margin:0px;list-style:none none;border-width:0px;"><li style="padding:0.5em 15px;margin:0.25em 0px;text-indent:-15px;color:rgb(102, 102, 102);border-top-width:1px;border-top-style:none;border-top-color:rgb(238, 238, 238);border-bottom-width:1px;border-bottom-style:none;border-bottom-color:transparent;list-style:none outside none;border-width:0px;padding-left:15px;background:none;padding-top:0.25em;padding-bottom:0.25em;"><a style="text-decoration:none;color:inherit;cursor:pointer;font-family:Arial, sans-serif;"><span style="color:rgb(102, 102, 102);">► </span></a> <a href="http://iotnet.blogspot.kr/search?updated-min=2015-01-01T00:00:00-08:00&amp;updated-max=2016-01-01T00:00:00-08:00&amp;max-results=1" style="text-decoration:none;color:rgb(55, 120, 205);">2015</a> <span dir="ltr">(1)</span></li></ul><ul style="padding:0px;margin:0px;list-style:none none;border-width:0px;"><li style="padding:0.5em 15px;margin:0.25em 0px;text-indent:-15px;color:rgb(102, 102, 102);border-top-width:1px;border-top-style:none;border-top-color:rgb(238, 238, 238);border-bottom-width:1px;border-bottom-style:none;border-bottom-color:transparent;list-style:none outside none;border-width:0px;padding-left:15px;background:none;padding-top:0.25em;padding-bottom:0.25em;"><a style="text-decoration:none;color:inherit;cursor:pointer;font-family:Arial, sans-serif;"><span style="color:rgb(102, 102, 102);">▼ </span></a> <a href="http://iotnet.blogspot.kr/search?updated-min=2014-01-01T00:00:00-08:00&amp;updated-max=2015-01-01T00:00:00-08:00&amp;max-results=5" style="text-decoration:none;color:rgb(55, 120, 205);">2014</a> <span dir="ltr">(5)</span></li><li style="list-style: none; display: inline"><ul style="padding:0px;margin:0px;list-style:none none;border-width:0px;"><li style="padding:0.5em 15px;margin:0.25em 0px;text-indent:-15px;color:rgb(102, 102, 102);border-top-width:1px;border-top-style:none;border-top-color:rgb(238, 238, 238);border-bottom-width:1px;border-bottom-style:none;border-bottom-color:transparent;list-style:none outside none;border-width:0px;padding-left:1.2em;background:none;padding-top:0.25em;padding-bottom:0.25em;"><a style="text-decoration:none;color:inherit;cursor:pointer;font-family:Arial, sans-serif;"><span style="color:rgb(102, 102, 102);">► </span></a> <a href="http://iotnet.blogspot.kr/2014_11_01_archive.html" style="text-decoration:none;color:rgb(55, 120, 205);">11월</a> <span dir="ltr">(1)</span></li></ul><ul style="padding:0px;margin:0px;list-style:none none;border-width:0px;"><li style="padding:0.5em 15px;margin:0.25em 0px;text-indent:-15px;color:rgb(102, 102, 102);border-top-width:1px;border-top-style:none;border-top-color:rgb(238, 238, 238);border-bottom-width:1px;border-bottom-style:none;border-bottom-color:transparent;list-style:none outside none;border-width:0px;padding-left:1.2em;background:none;padding-top:0.25em;padding-bottom:0.25em;"><a style="text-decoration:none;color:inherit;cursor:pointer;font-family:Arial, sans-serif;"><span style="color:rgb(102, 102, 102);">▼ </span></a> <a href="http://iotnet.blogspot.kr/2014_07_01_archive.html" style="text-decoration:none;color:rgb(55, 120, 205);">7월</a> <span dir="ltr">(3)</span></li><li style="list-style: none; display: inline"><ul style="padding:0px;margin:0px;list-style:none none;border-width:0px;"><li style="padding:0.5em 15px;margin:0.25em 0px;text-indent:-15px;color:rgb(102, 102, 102);border-top-width:1px;border-top-style:none;border-top-color:rgb(238, 238, 238);border-bottom-width:1px;border-bottom-style:solid;border-bottom-color:transparent;list-style:none outside none;border-width:0px;padding-left:1.3em;background:none;padding-top:0.25em;padding-bottom:0.25em;"><a href="http://iotnet.blogspot.kr/2014/07/contiki-mac-rdc.html" style="text-decoration:none;color:rgb(55, 120, 205);">[콘티키/Contiki] MAC, RDC 프로토콜 변경</a></li><li style="padding:0.5em 15px;margin:0.25em 0px;text-indent:-15px;color:rgb(102, 102, 102);border-top-width:1px;border-top-style:solid;border-top-color:rgb(238, 238, 238);border-bottom-width:1px;border-bottom-style:solid;border-bottom-color:transparent;list-style:none outside none;border-width:0px;padding-left:1.3em;background:none;padding-top:0.25em;padding-bottom:0.25em;"><a href="http://iotnet.blogspot.kr/2014/07/contiki-micaz-2-uisp-command-not-found.html" style="text-decoration:none;color:rgb(55, 120, 205);">[콘티키/Contiki] 미카즈(Micaz)에 콘티키 올리기 (2) : uisp comma...</a></li><li style="padding:0.5em 15px;margin:0.25em 0px;text-indent:-15px;color:rgb(102, 102, 102);border-top-width:1px;border-top-style:solid;border-top-color:rgb(238, 238, 238);border-bottom-width:1px;border-bottom-style:none;border-bottom-color:transparent;list-style:none outside none;border-width:0px;padding-left:1.3em;background:none;padding-top:0.25em;padding-bottom:0.25em;"><a href="http://iotnet.blogspot.kr/2014/07/contiki-micaz.html" style="text-decoration:none;color:rgb(55, 120, 205);">[콘티키/Contiki] 미카즈(Micaz)에 콘티키 올리기</a></li></ul></li></ul><ul style="padding:0px;margin:0px;list-style:none none;border-width:0px;"><li style="padding:0.5em 15px;margin:0.25em 0px;text-indent:-15px;color:rgb(102, 102, 102);border-top-width:1px;border-top-style:none;border-top-color:rgb(238, 238, 238);border-bottom-width:1px;border-bottom-style:none;border-bottom-color:transparent;list-style:none outside none;border-width:0px;padding-left:1.2em;background:none;padding-top:0.25em;padding-bottom:0.25em;"><a style="text-decoration:none;color:inherit;cursor:pointer;font-family:Arial, sans-serif;"><span style="color:rgb(102, 102, 102);">► </span></a> <a href="http://iotnet.blogspot.kr/2014_06_01_archive.html" style="text-decoration:none;color:rgb(55, 120, 205);">6월</a> <span dir="ltr">(1)</span></li></ul></li></ul><ul style="padding:0px;margin:0px;list-style:none none;border-width:0px;"><li style="padding:0.5em 15px;margin:0.25em 0px;text-indent:-15px;color:rgb(102, 102, 102);border-top-width:1px;border-top-style:none;border-top-color:rgb(238, 238, 238);border-bottom-width:1px;border-bottom-style:none;border-bottom-color:transparent;list-style:none outside none;border-width:0px;padding-left:15px;background:none;padding-top:0.25em;padding-bottom:0.25em;"><a style="text-decoration:none;color:inherit;cursor:pointer;font-family:Arial, sans-serif;"><span style="color:rgb(102, 102, 102);">► </span></a> <a href="http://iotnet.blogspot.kr/search?updated-min=2013-01-01T00:00:00-08:00&amp;updated-max=2014-01-01T00:00:00-08:00&amp;max-results=4" style="text-decoration:none;color:rgb(55, 120, 205);">2013</a> <span dir="ltr">(4)</span></li></ul></div></div></div></div><div style="position:relative;min-height:0px;margin:20px -16px;font-style:normal;font-variant:normal;font-weight:normal;font-size:14px;font-family:Arial, Tahoma, Helvetica, FreeSans, sans-serif;color:rgb(68, 68, 68);border:1px solid rgb(238, 238, 238);padding:0px 15px 15px;-webkit-box-shadow:rgba(0, 0, 0, 0.2) 0px 0px 20px;box-shadow:rgba(0, 0, 0, 0.2) 0px 0px 20px;border-top-left-radius:0px;border-top-right-radius:0px;border-bottom-right-radius:0px;border-bottom-left-radius:0px;background-color:rgb(255, 255, 255);margin-bottom:0px;"><h2 style="margin:0px -15px;position:relative;font-style:normal;font-weight:bold;font-variant:normal;font-size:14px;font-family:Arial, Tahoma, Helvetica, FreeSans, sans-serif;color:rgb(68, 68, 68);padding:0.6em 15px 0.5em;border-bottom-width:1px;border-bottom-style:solid;border-bottom-color:transparent;">프로필</h2><div style="border-top-width:1px;border-top-style:solid;border-top-color:rgb(238, 238, 238);margin:0px -15px;padding:7px 15px 0px;"><dl style="margin:0px 0px 0.5em;"><dt style="font-weight:bold;margin:0px;"><a href="http://www.blogger.com/profile/02007644907342643695" rel="author" style="display:inline-block;min-height:20px;padding-left:20px;background:0% 0% no-repeat;text-decoration:none;color:rgb(55, 120, 205);background-image:url(&apos;http://www.blogger.com/img/logo-16.png&apos;);">Kim</a></dt></dl><a href="http://www.blogger.com/profile/02007644907342643695" rel="author" style="text-decoration:none;color:rgb(55, 120, 205);">전체 프로필 보기</a></div></div></div></div></div></div></div></div></div></div></div><div style="display:block;"><div style="position:relative;min-height:0px;margin:-20px 0px -1px;padding:20px 0px 0px;color:rgb(68, 68, 68);overflow:hidden;"><div style="position:relative;border-top-width:1px;border-top-style:solid;border-top-color:rgb(238, 238, 238);-webkit-box-shadow:rgba(0, 0, 0, 0.2) 0px 0px 20px;box-shadow:rgba(0, 0, 0, 0.2) 0px 0px 20px;margin:0px -20px;background:none 0px 0px repeat scroll rgb(255, 255, 255);"><div style="padding:30px 15px;min-height:0px;margin:0px auto;min-width:960px;max-width:960px;"><table border="0" cellpadding="0" cellspacing="0" style="font-size:inherit;font-weight:inherit;font-style:inherit;font-variant:inherit;border:none;table-layout:fixed;position:relative;width:96.96969696969697%;"><tbody><tr><td style="vertical-align:top;border-left-style:none;width:48.4375%;"></td><td style="vertical-align:top;width:48.4375%;"></td></tr></tbody></table><div style="margin:0px 15px;"><div style="position:relative;min-height:0px;margin:30px 0px;margin-bottom:0px;"><div style="text-align:center;">Awesome Inc. 템플릿. <a href="http://www.blogger.com/" style="text-decoration:none;color:rgb(55, 120, 205);" target="_blank">Blogger</a> 제공.</div></div></div></div></div></div></div></div></div></div></div></div><br/></span>
</div>
<hr>
<a name="5559"/>

<div>
<span><div style="margin: 0px; padding: 0px; font-style: normal; font-variant: normal; word-break: break-all; position: relative; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><div>用：</div><div><b>make login MOTES=/dev/ttyUSB0 | while IFS= read -r line; do printf  '%s %s\n'  &quot;$(date '+%s %N')&quot;  &quot;$line&quot;; done</b></div><div><br/></div><div>注释： <span style="color: rgb(51, 51, 51); font-family: Arial; font-size: 18px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; display: inline !important; float: none; background-color: rgb(255, 255, 255);">%N就是纳秒数，%s是1970以来的秒数</span></div><div><span style="color: rgb(51, 51, 51); font-family: Arial; font-size: 18px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; display: inline !important; float: none; background-color: rgb(255, 255, 255);">1秒 等于 10^9 纳秒</span></div><div><span style="font-size: 18px;"><span style="font-family: Arial;"><span style="background-color: rgb(255, 255, 255);"><span style="color: rgb(51, 51, 51);"><br/></span></span></span></span></div><div><span style="color: rgb(51, 51, 51);"><span style="font-size: 18px;"><span style="font-family: Arial;">计算时，如 time2</span></span></span></div><div><br/></div><div><span style="color: rgb(51, 51, 51);"><span style="font-size: 16px;"><span style="font-family: &apos;Microsoft YaHei&apos;, SimHei, arial;"><b><span style="font-size: 18px;">====</span></b></span></span></span></div><div><span style="color: rgb(51, 51, 51);"><span style="font-size: 16px;"><span style="font-family: &apos;Microsoft YaHei&apos;, SimHei, arial;"><b><span style="font-size: 18px;"><br/></span></b></span></span></span></div><div><span style="color: rgb(51, 51, 51);"><span style="font-size: 16px;"><span style="font-family: &apos;Microsoft YaHei&apos;, SimHei, arial;"><span style="display: inline-block; font-size: 18px; font-weight: 400; overflow: hidden;"><b>matlab计算时间差</b></span></span></span></span></div></div><div style="font-size: 12px; color: rgb(153, 153, 153); height: 22px; font-family: arial, 宋体, sans-serif, tahoma, &apos;Microsoft YaHei&apos;; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><div><span style="display: inline; float: right; text-align: right;"><ins style="text-decoration: none; cursor: pointer;"> <em style="font-style: normal;">分享</em><span style="color: rgb(204, 204, 204); margin: 0px 7px; height: 8px; overflow: hidden; width: 1px; display: inline-block; vertical-align: middle; position: relative; top: -2px; background: rgb(165, 165, 165);">|</span> </ins>2013-02-06 06:29</span><a href="http://www.baidu.com/p/lalucky?from=zhidao" rel="nofollow" style="color: rgb(45, 100, 179); text-decoration: none;" target="_blank">lalucky</a> <span style="color: rgb(204, 204, 204); margin: 0px 7px; height: 8px; overflow: hidden; width: 1px; display: inline-block; vertical-align: middle; position: relative; top: -2px; background: rgb(165, 165, 165);">|</span> 浏览 1961 次</div></div><div style="margin: 8px 0px 0px; padding: 0px; font-family: arial, &apos;courier new&apos;, courier, 宋体, monospace, &apos;Microsoft YaHei&apos;; font-size: 14px; color: rgb(51, 51, 51); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><div>FFF为毫秒</div><div><br/></div><div>time1=datenum('06:13:00.4','HH:MM:SS.FFF') </div><div><br/></div><div>time2=datenum('06:13:05.6','HH:MM:SS.FFF')</div><div><br/></div><div>(time2-time1)*24*60*60</div><div><br/></div><div>结果为 秒  (s)</div><div><br/></div><div>举例：</div><div>make login MOTES=/dev/ttyUSB0 | while IFS= read -r line; do printf  '%s %s\n'  &quot;$(date '+%s %N')&quot;  &quot;$line&quot;; done</div><div>或者</div><div><br/></div><div><br/></div></div><div><b>===</b></div><div><b>精确到毫秒： </b></div><div style="margin: 0px 0px 10px; padding: 0px; font-family: arial, &apos;courier new&apos;, courier, 宋体, monospace, &apos;Microsoft YaHei&apos;; font-size: 14px; color: rgb(51, 51, 51); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(243, 255, 236);"><div><b>date &quot;+%T.%N&quot;</b></div><div><b>注释： %N 为纳秒，1 ms= 10^6 ns</b></div></div><div><br/></div><div>方法一：</div><table style="margin: 0px; padding: 0px; border: 0px; border-collapse: collapse; border-spacing: 0px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);width:721px;"><tr style="margin: 0px; padding: 0px; border: 0px;"><td style="margin: 0px; padding: 0px 15px 0px 0px; border: 0px; vertical-align: top;width:8.460471567267684%;"><div style="text-align: center;"><br/></div><div style="margin: 0px; padding: 0px; border: 0px; text-align: center;"><span style="margin: 8px 0px; padding: 0px; border: 0px; display: block;">66</span><a style="margin: 0px auto 10px; padding: 0px; border: 0px; text-decoration: none; cursor: pointer; overflow: hidden; display: block; text-indent: -9999em; width: 40px; height: 48px; background-image: url(http://cdn.sstatic.net/unix/img/sprites.svg?v=518143dd14a4), none; background-position: 0px -220px; background-repeat: no-repeat no-repeat;" title="This answer is not useful">down vote</a><span style="margin: 0px auto; padding: 0px; border: 0px; overflow: hidden; display: block; text-indent: -9999em; width: 40px; height: 40px; background-image: url(http://cdn.sstatic.net/unix/img/sprites.svg?v=518143dd14a4), none; background-position: -40px -270px; background-repeat: no-repeat no-repeat;" title="loading when this answer was accepted...">accepted</span><div style="margin: 0px; padding: 0px; border: 0px;"><span style="margin: 0px; padding: 4px; border: 0px; display: block; font-weight: normal; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: rgb(0, 119, 221);" title="This answer has been awarded bounties worth 50 reputation by Kevin Burke">+50</span></div></div></td><td style="margin: 0px; padding: 0px; border: 0px; vertical-align: top;width:91.53952843273233%;"><div style="margin: 0px 0px 5px; padding: 0px; border: 0px; width: 660px; word-wrap: break-word;"><p style="margin: 0px 0px 1em; padding: 0px; border: 0px; clear: both;"><span style="color: rgb(0, 0, 0);"><a href="http://kitenet.net/~joey/code/moreutils/" style="margin: 0px; padding: 0px; border: 0px; text-decoration: none; cursor: pointer;">moreutils</a> includes <code style="margin: 0px; padding: 1px 5px; border: 0px; white-space: pre-wrap; background-color: rgb(238, 238, 238);"><span style="font-family: Tahoma;">ts</span></code> which does this quite nicely:</span></p><p style="margin: 0px 0px 1em; padding: 0px; border: 0px; clear: both;"><code style="margin: 0px; padding: 1px 5px; border: 0px; white-space: pre-wrap; background-color: rgb(238, 238, 238);"><span style="font-family: Tahoma;">command | ts '[%Y-%m-%d %H:%M:%S]'</span></code></p><p style="margin: 0px 0px 1em; padding: 0px; border: 0px; clear: both;">It eliminates the need for a loop too, every line of output will have a timestamp put on it.</p><pre style="margin: 0px 0px 1em; padding: 5px; border: 0px; overflow: auto; width: auto; max-height: 600px; display: block; word-wrap: normal; background-color: rgb(238, 238, 238);"><code style="margin: 0px; padding: 0px; border: 0px; white-space: inherit; background-color: rgb(238, 238, 238);"><span style="font-family: Tahoma;"><span style="margin: 0px; padding: 0px; border: 0px;">$ echo </span><span style="margin: 0px; padding: 0px; border: 0px;">-</span><span style="margin: 0px; padding: 0px; border: 0px;">e </span><span style="margin: 0px; padding: 0px; border: 0px;">&quot;foo\nbar\nbaz&quot;</span><span style="margin: 0px; padding: 0px; border: 0px;"> </span><span style="margin: 0px; padding: 0px; border: 0px;">|</span><span style="margin: 0px; padding: 0px; border: 0px;"> ts </span><span style="margin: 0px; padding: 0px; border: 0px;">'[%Y-%m-%d %H:%M:%S]'</span><span style="margin: 0px; padding: 0px; border: 0px;">[</span><span style="margin: 0px; padding: 0px; border: 0px;">2011</span><span style="margin: 0px; padding: 0px; border: 0px;">-</span><span style="margin: 0px; padding: 0px; border: 0px;">12</span><span style="margin: 0px; padding: 0px; border: 0px;">-</span><span style="margin: 0px; padding: 0px; border: 0px;">13</span><span style="margin: 0px; padding: 0px; border: 0px;"> </span><span style="margin: 0px; padding: 0px; border: 0px;">22</span><span style="margin: 0px; padding: 0px; border: 0px;">:</span><span style="margin: 0px; padding: 0px; border: 0px;">07</span><span style="margin: 0px; padding: 0px; border: 0px;">:</span><span style="margin: 0px; padding: 0px; border: 0px;">03</span><span style="margin: 0px; padding: 0px; border: 0px;">]</span><span style="margin: 0px; padding: 0px; border: 0px;"> foo
</span><span style="margin: 0px; padding: 0px; border: 0px;">[</span><span style="margin: 0px; padding: 0px; border: 0px;">2011</span><span style="margin: 0px; padding: 0px; border: 0px;">-</span><span style="margin: 0px; padding: 0px; border: 0px;">12</span><span style="margin: 0px; padding: 0px; border: 0px;">-</span><span style="margin: 0px; padding: 0px; border: 0px;">13</span><span style="margin: 0px; padding: 0px; border: 0px;"> </span><span style="margin: 0px; padding: 0px; border: 0px;">22</span><span style="margin: 0px; padding: 0px; border: 0px;">:</span><span style="margin: 0px; padding: 0px; border: 0px;">07</span><span style="margin: 0px; padding: 0px; border: 0px;">:</span><span style="margin: 0px; padding: 0px; border: 0px;">03</span><span style="margin: 0px; padding: 0px; border: 0px;">]</span><span style="margin: 0px; padding: 0px; border: 0px;"> bar
</span><span style="margin: 0px; padding: 0px; border: 0px;">[</span><span style="margin: 0px; padding: 0px; border: 0px;">2011</span><span style="margin: 0px; padding: 0px; border: 0px;">-</span><span style="margin: 0px; padding: 0px; border: 0px;">12</span><span style="margin: 0px; padding: 0px; border: 0px;">-</span><span style="margin: 0px; padding: 0px; border: 0px;">13</span><span style="margin: 0px; padding: 0px; border: 0px;"> </span><span style="margin: 0px; padding: 0px; border: 0px;">22</span><span style="margin: 0px; padding: 0px; border: 0px;">:</span><span style="margin: 0px; padding: 0px; border: 0px;">07</span><span style="margin: 0px; padding: 0px; border: 0px;">:</span><span style="margin: 0px; padding: 0px; border: 0px;">03</span><span style="margin: 0px; padding: 0px; border: 0px;">]</span><span style="margin: 0px; padding: 0px; border: 0px;"> baz</span></span></code></pre><div style="margin: 0px 0px 1em; padding: 0px; border: 0px; clear: both;"><div>You want to know when that server came back up you restarted? Just run <code style="margin: 0px; padding: 1px 5px; border: 0px; white-space: pre-wrap; background-color: rgb(238, 238, 238);"><span style="font-family: Tahoma;">ping | ts</span></code> , problem solved :D.</div></div></div></td></tr></table><div>“</div><div>方法二：</div><div><br/></div><div style="font-size: 16px"><div style="font-size:100%;"><div style="font-size:13px;font-family:&apos;Helvetica Neue&apos;, Helvetica, Arial, sans-serif;color:rgb(34, 36, 38);background:url(http://cdn.sstatic.net/unix/img/bg-site.png?v=92eb02dd2e07) 50% 0% repeat white;"><div style="font-size:100%;text-align:left;"><div style="font-size:100%;box-sizing:content-box;background-color:transparent;"><div style="font-size:100%;"><div style="font-size:100%;"><div style="font-size:100%;"><div style="font-size:100%;"><table style="font-weight:inherit;font-style:inherit;font-variant:inherit;font-size:100%;width:1157px;"><tr style="font-size:100%;"><td style="font-size:100%;vertical-align:top;width:99.6542783059637%;"><div style="font-size:15px;word-wrap:break-word;"><p style="margin:0px;padding:0px;border:0px;font-size:100%;clear:both;margin-bottom:1em;">Firstly, if you are expecting these timestamps to actually represent an event, bear in mind that since many programs perform line buffering (some more aggressively than others), it is important to think of this as close to the time that the original line would have been printed rather than a timestamp of an action taking place.</p><p style="margin:0px;padding:0px;border:0px;font-size:100%;clear:both;margin-bottom:1em;">You may also want to check that your command doesn't already have an inbuilt feature dedicated to doing this. As an example, <code style="margin:0px;border:0px;font-family:Consolas, Menlo, Monaco, &apos;Lucida Console&apos;, &apos;Liberation Mono&apos;, &apos;DejaVu Sans Mono&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, monospace, sans-serif;background-color:rgb(238, 238, 238);white-space:pre-wrap;padding:1px 5px;font-size:13px;">ping -D</code> exists in some <code style="margin:0px;border:0px;font-family:Consolas, Menlo, Monaco, &apos;Lucida Console&apos;, &apos;Liberation Mono&apos;, &apos;DejaVu Sans Mono&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, monospace, sans-serif;background-color:rgb(238, 238, 238);white-space:pre-wrap;padding:1px 5px;font-size:13px;">ping</code> versions, and prints the time since the Unix epoch before each line. If your command does not contain its own method, however, there are a few methods and tools that can be employed, amongst others:</p><h2 style="margin:0px;padding:0px;border:0px;font-size:19px;margin-bottom:0.5em;word-wrap:break-word;font-weight:bold;">POSIX shell</h2><p style="margin:0px;padding:0px;border:0px;font-size:100%;clear:both;margin-bottom:1em;">Bear in mind that since many shells store their strings internally as cstrings, if the input contains the null character (<code style="margin:0px;border:0px;font-family:Consolas, Menlo, Monaco, &apos;Lucida Console&apos;, &apos;Liberation Mono&apos;, &apos;DejaVu Sans Mono&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, monospace, sans-serif;background-color:rgb(238, 238, 238);white-space:pre-wrap;padding:1px 5px;font-size:13px;">\0</code>), it may cause the line to end prematurely.</p><pre style="max-height:600px;margin:0px;border:0px;font-size:13px;overflow:auto;width:auto;padding:5px;margin-bottom:1em;font-family:Consolas, Menlo, Monaco, &apos;Lucida Console&apos;, &apos;Liberation Mono&apos;, &apos;DejaVu Sans Mono&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, monospace, sans-serif;background-color:rgb(238, 238, 238);display:block;color:rgb(57, 51, 24);word-wrap:normal;"><code style="margin:0px;border:0px;font-family:Consolas, Menlo, Monaco, &apos;Lucida Console&apos;, &apos;Liberation Mono&apos;, &apos;DejaVu Sans Mono&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, monospace, sans-serif;background-color:rgb(238, 238, 238);padding:0px;white-space:inherit;font-size:13px;"><span style="margin:0px;padding:0px;border:0px;font-size:100%;color:black;">command </span><span style="margin:0px;padding:0px;border:0px;font-size:100%;color:black;">|</span><span style="margin:0px;padding:0px;border:0px;font-size:100%;color:black;"> </span><span style="margin:0px;padding:0px;border:0px;font-size:100%;color:rgb(0, 0, 139);">while</span><span style="margin:0px;padding:0px;border:0px;font-size:100%;color:black;"> IFS</span><span style="margin:0px;padding:0px;border:0px;font-size:100%;color:black;">=</span><span style="margin:0px;padding:0px;border:0px;font-size:100%;color:black;"> read </span><span style="margin:0px;padding:0px;border:0px;font-size:100%;color:black;">-</span><span style="margin:0px;padding:0px;border:0px;font-size:100%;color:black;">r line</span><span style="margin:0px;padding:0px;border:0px;font-size:100%;color:black;">;</span><span style="margin:0px;padding:0px;border:0px;font-size:100%;color:black;"> </span><span style="margin:0px;padding:0px;border:0px;font-size:100%;color:rgb(0, 0, 139);">do</span><span style="margin:0px;padding:0px;border:0px;font-size:100%;color:black;"> printf </span><span style="margin:0px;padding:0px;border:0px;font-size:100%;color:maroon;">'[%s] %s\n'</span><span style="margin:0px;padding:0px;border:0px;font-size:100%;color:black;"> </span><span style="margin:0px;padding:0px;border:0px;font-size:100%;color:maroon;">&quot;$(date '+%Y-%m-%d %H:%M:%S')&quot;</span><span style="margin:0px;padding:0px;border:0px;font-size:100%;color:black;"> </span><span style="margin:0px;padding:0px;border:0px;font-size:100%;color:maroon;">&quot;$line&quot;</span><span style="margin:0px;padding:0px;border:0px;font-size:100%;color:black;">;</span><span style="margin:0px;padding:0px;border:0px;font-size:100%;color:black;"> </span><span style="margin:0px;padding:0px;border:0px;font-size:100%;color:rgb(0, 0, 139);">done</span></code></pre><h2 style="margin:0px;padding:0px;border:0px;font-size:19px;margin-bottom:0.5em;word-wrap:break-word;font-weight:bold;">GNU awk</h2><pre style="max-height:600px;margin:0px;border:0px;font-size:13px;overflow:auto;width:auto;padding:5px;margin-bottom:1em;font-family:Consolas, Menlo, Monaco, &apos;Lucida Console&apos;, &apos;Liberation Mono&apos;, &apos;DejaVu Sans Mono&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, monospace, sans-serif;background-color:rgb(238, 238, 238);display:block;color:rgb(57, 51, 24);word-wrap:normal;"><code style="margin:0px;border:0px;font-family:Consolas, Menlo, Monaco, &apos;Lucida Console&apos;, &apos;Liberation Mono&apos;, &apos;DejaVu Sans Mono&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, monospace, sans-serif;background-color:rgb(238, 238, 238);padding:0px;white-space:inherit;font-size:13px;"><span style="margin:0px;padding:0px;border:0px;font-size:100%;color:black;">command </span><span style="margin:0px;padding:0px;border:0px;font-size:100%;color:black;">|</span><span style="margin:0px;padding:0px;border:0px;font-size:100%;color:black;"> gawk </span><span style="margin:0px;padding:0px;border:0px;font-size:100%;color:maroon;">'{ print strftime(&quot;[%Y-%m-%d %H:%M:%S]&quot;), $0 }'</span></code></pre><h2 style="margin:0px;padding:0px;border:0px;font-size:19px;margin-bottom:0.5em;word-wrap:break-word;font-weight:bold;">Perl</h2><pre style="max-height:600px;margin:0px;border:0px;font-size:13px;overflow:auto;width:auto;padding:5px;margin-bottom:1em;font-family:Consolas, Menlo, Monaco, &apos;Lucida Console&apos;, &apos;Liberation Mono&apos;, &apos;DejaVu Sans Mono&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, monospace, sans-serif;background-color:rgb(238, 238, 238);display:block;color:rgb(57, 51, 24);word-wrap:normal;"><code style="margin:0px;border:0px;font-family:Consolas, Menlo, Monaco, &apos;Lucida Console&apos;, &apos;Liberation Mono&apos;, &apos;DejaVu Sans Mono&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, monospace, sans-serif;background-color:rgb(238, 238, 238);padding:0px;white-space:inherit;font-size:13px;"><span style="margin:0px;padding:0px;border:0px;font-size:100%;color:black;">command </span><span style="margin:0px;padding:0px;border:0px;font-size:100%;color:black;">|</span><span style="margin:0px;padding:0px;border:0px;font-size:100%;color:black;"> perl </span><span style="margin:0px;padding:0px;border:0px;font-size:100%;color:black;">-</span><span style="margin:0px;padding:0px;border:0px;font-size:100%;color:black;">pe </span><span style="margin:0px;padding:0px;border:0px;font-size:100%;color:maroon;">'use POSIX strftime; print strftime &quot;[%Y-%m-%d %H:%M:%S] &quot;, localtime'</span></code></pre><h2 style="margin:0px;padding:0px;border:0px;font-size:19px;margin-bottom:0.5em;word-wrap:break-word;font-weight:bold;">Python</h2><pre style="max-height:600px;margin:0px;border:0px;font-size:13px;overflow:auto;width:auto;padding:5px;margin-bottom:1em;font-family:Consolas, Menlo, Monaco, &apos;Lucida Console&apos;, &apos;Liberation Mono&apos;, &apos;DejaVu Sans Mono&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, monospace, sans-serif;background-color:rgb(238, 238, 238);display:block;color:rgb(57, 51, 24);word-wrap:normal;"><code style="margin:0px;border:0px;font-family:Consolas, Menlo, Monaco, &apos;Lucida Console&apos;, &apos;Liberation Mono&apos;, &apos;DejaVu Sans Mono&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, monospace, sans-serif;background-color:rgb(238, 238, 238);padding:0px;white-space:inherit;font-size:13px;"><span style="margin:0px;padding:0px;border:0px;font-size:100%;color:black;">command </span><span style="margin:0px;padding:0px;border:0px;font-size:100%;color:black;">|</span><span style="margin:0px;padding:0px;border:0px;font-size:100%;color:black;"> python </span><span style="margin:0px;padding:0px;border:0px;font-size:100%;color:black;">-</span><span style="margin:0px;padding:0px;border:0px;font-size:100%;color:black;">c </span><span style="margin:0px;padding:0px;border:0px;font-size:100%;color:maroon;">'import sys,time;sys.stdout.write(&quot;&quot;.join(( &quot; &quot;.join((time.strftime(&quot;[%Y-%m-%d %H:%M:%S]&quot;, time.localtime()), line)) for line in sys.stdin )))'</span></code></pre><h2 style="margin:0px;padding:0px;border:0px;font-size:19px;margin-bottom:0.5em;word-wrap:break-word;font-weight:bold;">Ruby</h2><pre style="max-height:600px;margin:0px;border:0px;font-size:13px;overflow:auto;width:auto;padding:5px;margin-bottom:1em;font-family:Consolas, Menlo, Monaco, &apos;Lucida Console&apos;, &apos;Liberation Mono&apos;, &apos;DejaVu Sans Mono&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, monospace, sans-serif;background-color:rgb(238, 238, 238);display:block;color:rgb(57, 51, 24);word-wrap:normal;"><code style="margin:0px;border:0px;font-family:Consolas, Menlo, Monaco, &apos;Lucida Console&apos;, &apos;Liberation Mono&apos;, &apos;DejaVu Sans Mono&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, monospace, sans-serif;background-color:rgb(238, 238, 238);padding:0px;white-space:inherit;font-size:13px;"><span style="margin:0px;padding:0px;border:0px;font-size:100%;color:black;">command </span><span style="margin:0px;padding:0px;border:0px;font-size:100%;color:black;">|</span><span style="margin:0px;padding:0px;border:0px;font-size:100%;color:black;"> ruby </span><span style="margin:0px;padding:0px;border:0px;font-size:100%;color:black;">-</span><span style="margin:0px;padding:0px;border:0px;font-size:100%;color:black;">pe </span><span style="margin:0px;padding:0px;border:0px;font-size:100%;color:maroon;">'print Time.now.strftime(&quot;[%Y-%m-%d %H:%M:%S] &quot;)'</span></code></pre></div></td></tr></table></div></div></div></div></div></div></div></div></div><br/></span>
</div>
<hr>
<a name="4822"/>

<div>
<span><div><b><span style="font-size: 21px;">Nov. 13, 2015 - 准备添加模块adaptive duty cycle in single-channel</span></b></div><div>bro|CT |PT |My address</div><div>需要用到的控制变量：</div><div>#if ADCSC_SUPPORT</div><div>     uint8_t     <b>ADCSC_unregular_wakeup</b>; /// 1: this is a wakeup in the sleep period</div><div>     uint8_t     <b>ADCSC_to_recv</b>; ///will wake up in sleep period to receive. 1: to receive; 0: not to receive/relay</div><div>     uint8_t     <b>ADCSC_left_SF</b>; ///how many slots left in the sleep period</div><div>     uint8_t     <b>ADCSC_to_send</b>; ///will utilize sleep period to send data. 1: to send; 0: not to send</div><div>     char     <b>ADCSC_state</b>;  ///node's current state \in {PRI_R, PRI_T} (due to ADCSC)<br/>
     rtimer_clock_t <b>ADCSC_state_start</b>; ///the start time of the current state (due to ADCSC)</div><div>#endif</div><div><b><u>pri_init当中的初始化：</u></b></div><div>#if ADCSC_SUPPORT<br/>
     pri_attribute.<b>ADCSC_unregular_wakeup</b> = 0; /// not an unregular wakeup</div><div>     pri_attribute.<b>ADCSC_left_SF</b> = SF; ///how many slots left in the sleep period</div><div>     pri_attribute.<b>ADCSC_to_send</b> = 0; ///will utilize sleep period to send data</div><div>     pri_attribute.<b>ADCSC_to_recv</b> = 0; ///will wake up in sleep period to receive</div><div>     //pri_attribute.ADCSC_state;  ///node's current state \in {PRI_R, PRI_T} (due to ADCSC)<br/>
     //pri_attribute.ADCSC_state_start; ///the start time of the current state (due to ADCSC)</div><div>#endif</div><div><br/></div><div><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;"><span style="color: rgb(173, 0, 0);"><span style="font-size: 21px;"><b>修正</b></span></span></span>：</div><div>uint16_t pri_grade_proc(char node_state, uint16_t sender_state_dur)</div><div>改为</div><div>uint32_t pri_grade_proc(char node_state, uint32_t sender_state_dur)</div><div>该函数的调用位置，也做了相应修改。</div><div>否则，遇到大的SF (e.g., SF=30)，schedule 是错的</div><div><b><span style="font-size: 21px;">Nov. 09, 2015 - 准备添加模块 address-free, adaptive duty cycle, multi-channel</span></b></div><div>bro|CT |PT |My address</div><div><img src="Evernote_files/Image.png" type="image/png" style="cursor: default; height: auto;"/></div><div>If two nodes in different grades have the same address, it does not matter, since the grades can be utilized to differentiate the two nodes.</div><div><br/></div><div>If two nodes in the same grade have the same address, there are 3 ways to solve the conflicts. </div><div>Specifically (use the above figure as an example), if one of them fails in the RTS <span style="color: rgb(227, 0, 0);"><b>broadcast</b></span> contention between them, say node 3 fails,</div><div>then <span style="color: rgb(227, 0, 0);"><b>(1)</b></span>. if node 3 can overhear the RTS from node 2, it will know the conflicts and regenerate a new address;</div><div>else  <span style="color: rgb(227, 0, 0);"><b>(2)</b></span>. if node 3 can receive the CTS replied to node 2 from node 1, then node 3 will know the conflict and regenerate a new address;</div><div>else <span style="color: rgb(227, 0, 0);"><b>(3)</b></span>. assume node 3 wins the contention in some time after the current contention failure, then node 1 can find the conflict by looking up its CT (Child Table) after receiving the RTS broadcasted from node 3. So node 1 will generate a different address for node 3 and tell node 3 through the replied CTS. Node 3 will check whether node 1 has been in its PT (parent table) after receiving the CTS. If not, node 3 will accept the address. <span style="color: rgb(227, 0, 0);"><b>Note that node 3 will not set its CT even it receives an RTS from node 4 or 5, until it finds its parent (i.e., set its PT successfully). In other words, before node 3 determines its address, it will not be set as a parent of any other nodes (node 4 or 5).</b></span> </div><div><br/></div><div><br/></div><div><b><span style="font-size: 21px;"><br/></span></b></div><div><span style="font-size: 21px;"><b>实验对应的程序环境 （since Sep. 28, 2015）</b></span></div><div><br/></div><div>工程目录：Dropbox\Contiki Pro\1LatestContiki\contiki</div><div>在论文里面需要用cooja比较PDC 和 contikicollect，分别对应下面两个仿真：</div><div>1. <span style="font-size: 16px;"><b>contiki-rime-example-collect-at-uvic.csc</b></span> （保存在contiki\examples\rime 下）</div><div>     对应的collect程序文件： contiki\examples\rime\example-collect.c</div><div><br/></div><div>2. <span style="font-size: 16px;"><b>latest-sync-at-uvic.csc</b></span>（保存在contiki\examples\tongfei下）</div><div>     (1) 对应的程序文件：contiki\examples\tongfei\hello-world.c</div><div>     (2) 进行duty cycle统计的话，需要打开：#define DEBUG_OUTPUT_POWER 1 //print delay and packet reception ratio when a packet arrives at the sink node.</div><div><br/></div><div>3. <span style="font-size: 16px;"><b>BCP</b></span></div><div>BCP 的retransmission limit 定义在 Bcp.h 中 MAX_RETX_ATTEMPTS = 5</div><div><br/></div><div>4. 用cooja仿真进行两个协议比较时，需要两个相同的网络拓扑，即两个网络里的节点坐标是一致的。可以通过如下方法来完成。</div><div>cooja仿真保存后的csc文件实际是一个xml文件，生成好一个协议的网络拓扑后，将其csc文件里面的&lt;mote&gt;&lt;/mote&gt;拷贝到另一协议所生成的csc文件里即可。</div><div><span style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;">======================================</span></div><div><span style="font-size: 21px;"><span style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><strong>实验第三步：</strong></span></span></div><div style="font-size: 21px;"><div style="font-size: medium;"><span style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><br clear="none"/></span></div><div style="font-size: medium;"><span style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;">1&lt;-- 2, 1&lt;--5, 1&lt;--6, 1&lt;--7</span></div></div><div style="font-size: 21px;"><span style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><strong>实验第二步：</strong></span></div><div><span style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><br clear="none"/></span></div><div><span style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;">1&lt;-- 2, 2&lt;--5, 2&lt;--6, 2&lt;--7</span></div><div><span style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><br clear="none"/></span></div><div><span style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;">======================================</span></div><div><span style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;">PRTLIST(&quot;SL &quot;);//SL: sender list</span></div><div><span style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;">//node address, cnr:count of no rts, time offset<br clear="none"/>
 PRTLIST(&quot;[%u %u %d];&quot;,l-&gt;sender.u8[0],l-&gt;count_no_rts,l-&gt;time_offset);</span></div><div><span style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><br clear="none"/></span></div><div><span style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;">PRTLIST(&quot;RL &quot;); //RL: Receiver List</span></div><div><span style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;">PRTLIST(&quot;[%u %u %ld %d %u];&quot;,l-&gt;receiver.u8[0],l-&gt;count_no_cts,  l-&gt;cycle_counter, l-&gt;clock_drift, l-&gt;sender_num);</span></div><div><span style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><br clear="none"/></span></div><div><span style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><strong style="font-size: 21px;">May.07 2015, sunning</strong></span></div><div><span style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;">======================================</span></div><div><span style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;">问题 </span></div><div><span style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;">Hi,</span></div><div><span style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;">I program a simulation in cooja and I wanna run it for several hours. But I find the <strong><span style="color: #e500ff;">mote output can not save all of trace records</span></strong>. Is there some way to enlarge its file size in order to save all records?</span></div><div>Thanks.</div><div>Regards,</div><div>Lukas </div><div><br clear="none"/></div><div>解答：</div><div>Yes you can increase the size of trace records. In Cooja, click on Setting -&gt; Buffer Size.... Here you can provide the number of lines to display,</div><div>The maximum buffer size: 2,147,483,647</div><div><br clear="none"/></div><div>There is another method in which you can save all lines. You will have to run the simulation via command prompt (without GUI). When you do this, all the mote outputs are displayed on the command prompt which can be redirected to a file using &gt;&gt; operator. To run Cooja without GUI take a look at http://comments.gmane.org/gmane.os.contiki.devel/7892 and follow the threads.</div><div><br clear="none"/></div><div>====</div><div style="font-size: 21px;"><strong>配置：</strong></div><div>cooja 相关 （用板子实验时，须关闭）：</div><div>#define     <font color="#AD0000"><b>RANDOM_DRIFT_IN_COOJA    </b></font> 1</div><div><br clear="none"/></div><div>板子相关 （用板子实验时，设为30）：</div><div>#define PERIODIC_SECOND          10     /*everty 10s, send RTS*/</div><div>#define PRI_CCA_COUNT_MAX_TX                 10 // 1 // 6 <a shape="rect">//是否需要cca</a><br clear="none"/></div><div>pri_cca()函数是否调用</div><div><br clear="none"/></div><div>和cooja 板子都相关</div><div>#define     <b><font color="#AD0000">PROC_GRADE_BASED_ON_ADDR</font><font color="#328712">    </font></b> 1  //process the grade message according to address (1) or transmission range (0)</div><div>#if     PROC_GRADE_BASED_ON_ADDR<br/>
#define <b><font color="#AD0000">NODES_NUM_PER_GRADE         </font></b> 2<br/>
#endif</div><div><br clear="none"/></div><div>#define     <strong><span style="color: #328712;">PRI_SYNC_FLAG              </span></strong> 0          // for synchronization</div><div>#define     <strong><font color="#AD0000">DATA_TX_SUPPORT          </font><span style="color: #328712;">0</span></strong>          //DATA Transmission</div><div>#define     <strong><span style="color: #328712;">WAKEUP_ADVANCE_TIME         </span></strong> 0     //(RTIMER_SECOND/200) // 5 ms</div><div>#define     <span style="color: #328712;"><strong>PRI_TM              </strong></span> 0      //(RTIMER_SECOND/455)//=72, 0.00219s</div><div>#define      <span style="color: #328712;"><strong>SF</strong></span> 10                          // Sleep Factor, the least value of sleep factor is 2 (sleep_factor in the paper)</div><div><br clear="none"/></div><div>#define     <font color="#AD0000"><b>MAX_SENDER_NUM         </b></font> 2 //The maximum number of senders (children) a node can have (in its neighbor table)</div><div>#define      GUARDTIME     0//(RTIMER_SECOND/200)//=163, 0.005s</div><div><span style="font-size: 21px;"><b><br/></b></span></div><div>#if !<font color="#328712"><b>ZOLERTIA_Z1 ///for MicaZ motes, for different mote, change the address manually</b></font></div><div>     linkaddr_node_addr.u8[0]=5;// 1: sink address<br/>
     linkaddr_node_addr.u8[1]=0;<br/>
#endif</div><div><strong style="font-size: 21px;">Apr.24 2015, raining</strong></div><div>======================================</div><div><br clear="none"/></div><div>在contiki上打印浮点数 <a href="http://sourceforge.net/p/contiki/mailman/message/25920389/" shape="rect">http://sourceforge.net/p/contiki/mailman/message/25920389/</a> </div><div><pre style="margin-top: 0px; margin-bottom: 0px; padding: 15px; border-left-style: solid; border-left-color: #e5e5e5; outline: 0px; vertical-align: baseline; word-wrap: break-word; overflow: auto; text-align: left; widows: 1; background-color: #ffffff; border-width: 0px 0px 0px 1px;" xml:space="preserve"><span style="color: #555555; font-family: monospace,sans-serif;"><span style="white-space: pre-wrap;">Hello Nahuel,
I was able to print floating numbers on the Tmote Sky. Here is how I did it:</span></span></pre><pre style="margin-top: 0px; margin-bottom: 0px; padding: 15px; border-left-style: solid; border-left-color: #e5e5e5; outline: 0px; font-size: 13px; vertical-align: baseline; font-family: monospace, sans-serif; white-space: pre-wrap; word-wrap: break-word; overflow: auto; color: #555555; text-align: left; widows: 1; background-color: #ffffff; background-position: initial initial; background-repeat: initial initial; border-width: 0px 0px 0px 1px;" xml:space="preserve">
#include &lt;math.h&gt;

int a1=7, a2=8;
float b1 = (float) a1*1.000;
float b2 = (float) a2*1.000;
float f = b1 / b2;
printf(&quot;%d / %d = %ld.%03u\n&quot;, a1, a2, (long)f, 
(unsigned)((f-floor(f))*1000));

You also need to hack on your makefile to enable the compilation of the 
math library. My solution is as follows:
CUSTOM_RULE_LINK=1
%.$(TARGET): %.co $(PROJECT_OBJECTFILES) $(PROJECT_LIBRARIES) 
contiki-$(TARGET).a
     $(LD) $(LDFLAGS) $(TARGET_STARTFILES) ${filter-out %.a,$^} ${filter 
%.a,$^} $(TARGET_LIBFILES) -o $@ -lm
</pre></div><div>======================================</div><div style="font-size: 21px;"><strong>Apr.15 2015, sunning</strong></div><div>Reference  Device           Description<br clear="none"/>
---------- ---------------- ---------------------------------------------<br clear="none"/>
Z1RC4243   /dev/ttyUSB0     Silicon Labs Zolertia Z1<br clear="none"/>
Z1RC4239   /dev/ttyUSB1     Silicon Labs Zolertia Z1<br clear="none"/>
Z1RC4255   /dev/ttyUSB2     Silicon Labs Zolertia Z1<br clear="none"/>
Z1RC4975   /dev/ttyUSB3     Silicon Labs Zolertia Z1<br clear="none"/>
Z1RC4841   /dev/ttyUSB4     Silicon Labs Zolertia Z1<br clear="none"/><br clear="none"/></div><div>in &quot;contiki/examples/z1&quot;, run (use MOTES to distinguish different motes): // 不能烧成0</div><div><span style="text-align: left; font-weight: bold;">make</span> <span style="background-color: #f9f9f9; text-align: left;">clean</span> <span style="text-align: left; font-weight: bold;">&amp;&amp;</span> <span style="text-align: left; font-weight: bold;">make</span> <span style="background-color: #f9f9f9; text-align: left;">burn-nodeid.upload</span> <span style="text-align: left;">nodeid=</span><span style="background-color: #f9f9f9; text-align: left;">1</span> <span style="text-align: left;">nodemac=1</span><span style="background-color: #f9f9f9; text-align: left;"> </span><span style="font-weight: bold;">MOTES=/dev/ttyUSB0 </span><span style="text-align: left; font-weight: bold;">&amp;&amp;</span> <span style="text-align: left; font-weight: bold;">make</span> <span style="background-color: #f9f9f9; text-align: left;">z1-reset</span> <span style="text-align: left; font-weight: bold;">&amp;&amp;</span> <span style="text-align: left; font-weight: bold;">make</span> <span style="text-align: left; font-weight: bold;">login </span><span style="font-weight: bold;">MOTES=/dev/ttyUSB0</span></div><div><span style="font-weight: bold;"><br clear="none"/></span></div><div><span style="text-align: left; font-weight: bold;">make</span> <span style="background-color: #f9f9f9; text-align: left;">clean</span> <span style="text-align: left; font-weight: bold;">&amp;&amp;</span> <span style="text-align: left; font-weight: bold;">make</span> <span style="background-color: #f9f9f9; text-align: left;">burn-nodeid.upload</span> <span style="text-align: left;">nodeid=<span style="background-color: #f9f9f9;">6</span></span> <span style="text-align: left;">nodemac=6</span><span style="background-color: #f9f9f9; text-align: left;"> </span><span style="font-weight: bold;">MOTES=/dev/ttyUSB2 </span><span style="text-align: left; font-weight: bold;">&amp;&amp;</span> <span style="text-align: left; font-weight: bold;">make</span> <span style="background-color: #f9f9f9; text-align: left;">z1-reset</span> <span style="text-align: left; font-weight: bold;">&amp;&amp;</span> <span style="text-align: left; font-weight: bold;">make</span> <span style="text-align: left; font-weight: bold;">login </span><span style="font-weight: bold;">MOTES=/dev/ttyUSB2</span></div><div><span style="font-weight: bold;"><br clear="none"/></span></div><div><span style="font-weight: bold;"><span style="text-align: left; font-weight: bold;">make</span> <span style="background-color: #f9f9f9; text-align: left;">clean</span> <span style="text-align: left; font-weight: bold;">&amp;&amp;</span> <span style="text-align: left; font-weight: bold;">make</span> <span style="background-color: #f9f9f9; text-align: left;">burn-nodeid.upload</span> <span style="text-align: left;">nodeid=7</span> <span style="text-align: left;">nodemac=7</span><span style="background-color: #f9f9f9; text-align: left;"> </span><span style="font-weight: bold;">MOTES=/dev/ttyUSB3 </span><span style="text-align: left; font-weight: bold;">&amp;&amp;</span> <span style="text-align: left; font-weight: bold;">make</span> <span style="background-color: #f9f9f9; text-align: left;">z1-reset</span> <span style="text-align: left; font-weight: bold;">&amp;&amp;</span> <span style="text-align: left; font-weight: bold;">make</span> <span style="text-align: left; font-weight: bold;">login </span><span style="font-weight: bold;">MOTES=/dev/ttyUSB3</span></span></div><div><br clear="none"/></div><div>======================================</div><div style="font-size: 21px;"><strong>Apr.15 2015, sunning</strong></div><div style="font-size: 21px;"><strong><br clear="none"/></strong></div><div style="font-size: 21px;"><strong>Experiments: </strong></div><div style="font-size: 21px;"><strong><br clear="none"/></strong></div><div style="font-size: 15px;">Reference  Device           Description<br clear="none"/>
---------- ---------------- ---------------------------------------------<br clear="none"/>
(sink )Z1RC4243   /dev/ttyUSB0     Silicon Labs Zolertia Z1<br clear="none"/>
(problem)Z1RC4258   /dev/ttyUSB1     Silicon Labs Zolertia Z1<br clear="none"/>
(mac4)Z1RC4329   /dev/ttyUSB2     Silicon Labs Zolertia Z1</div><div style="font-size: 15px;"><br clear="none"/></div><div style="font-size: 15px;">commands:<br clear="none"/></div><div style="font-size: 15px;">装载：make hello-world.upload &amp;&amp; make z1-reset &amp;&amp; make login MOTES=/dev/ttyUSB0</div><div style="font-size: 15px;"><br clear="none"/></div><div style="font-size: 15px;">登录：</div><div style="font-size: 15px;">make z1-reset MOTES=/dev/ttyUSB0 &amp;&amp; make login MOTES=/dev/ttyUSB0 2&gt;&amp;1 | tee logs/sink.txt<br clear="none"/></div><div style="font-size: 15px;"><br clear="none"/></div><div style="font-size: 15px;">make z1-reset MOTES=/dev/ttyUSB1 &amp;&amp; make login MOTES=/dev/ttyUSB1 2&gt;&amp;1 | tee logs/2.txt<br clear="none"/></div><div style="font-size: 15px;"><br clear="none"/></div><div style="font-size: 15px;">make z1-reset MOTES=/dev/ttyUSB2 &amp;&amp; make login MOTES=/dev/ttyUSB2 2&gt;&amp;1 | tee logs/3.txt</div><div style="font-size: 15px;"><br clear="none"/></div><div style="font-size: 15px;">make z1-reset MOTES=/dev/ttyUSB3 &amp;&amp; make login MOTES=/dev/ttyUSB3 2&gt;&amp;1 | tee logs/4.txt</div><div style="font-size: 15px;"><br clear="none"/></div><div style="font-size: 15px;">make z1-reset MOTES=/dev/ttyUSB4 &amp;&amp; make login MOTES=/dev/ttyUSB4 2&gt;&amp;1 | tee logs/5.txt</div><div style="font-size: 15px;"><br clear="none"/></div><div style="font-size: 15px;">***************</div><div><h1 style="box-sizing: border-box; margin: 0px 150px 0px 0px; word-wrap: break-word; color: #333333; font-family: Helvetica, arial, nimbussansl, liberationsans, freesans, clean, sans-serif, &apos; segoe ui emoji&apos;, &apos;segoe ui symbol&apos;; background-color: #ffffff;"><span style="font-size: medium;">Setup contiki toolchain in ubuntu 13.04</span></h1></div><div><a href="https://github.com/contiki-os/contiki/wiki/Setup-contiki-toolchain-in-ubuntu-13.04" shape="rect">https://github.com/contiki-os/contiki/wiki/Setup-contiki-toolchain-in-ubuntu-13.04</a><br clear="none"/></div><div style="font-size: 21px;"><span style="font-size: 15px;"><br clear="none"/></span></div><div style="font-size: 21px;"><span style="font-size: 15px;">***************</span></div><div style="font-size: 21px;"><span style="font-size: 15px;">To-Do</span></div><div style="font-size: 21px;"><span style="font-size: 15px;"><span style="color: #e500ff;">contiki collect experiment</span></span></div><div style="font-size: 21px;"><span style="font-size: 15px;"><span style="color: #e500ff;">energy consumption experiment</span></span></div><div style="font-size: 21px;"><span style="font-size: 15px;"><span style="color: #e500ff;">delay statistics experiment</span></span></div><div><span style="font-size: 15px;"><span style="color: #e500ff;">packet delivery ratio experiment</span></span></div><div><span style="font-size: 15px;"><span style="color: #e500ff;">write bash script for extracting the log message of interest</span></span></div><div style="font-size: 21px;"><span style="font-size: 15px;"><br clear="none"/></span></div><div>======================================</div><div style="font-size: 21px;"><strong>Apr.14, 2015, raining</strong></div><div><br clear="none"/></div><div>examples/tongfei/logs:</div><div>sink.txt: sink node with mac address set to 1.0</div><div>problem.txt: the sensor node with mac address set to 2.0</div><div>mac4.txt: the sensor node with mac address set to 4.0</div><div><br clear="none"/></div><div>related settings:</div><div><br clear="none"/></div><div>#define PERIODIC_BCAST_CYCLES_SENSOR     ((PERIODIC_SECOND*(uint32_t)(RTIMER_SECOND))/DURCYCLE)//-1// 10 // 3 //20 cycles: after these cycles, broadcast the RTS again<br clear="none"/>
#define PERIODIC_BCAST_CYCLES_SINK     ((PERIODIC_SECOND*(uint32_t)(RTIMER_SECOND))/DURCYCLE)//-1// 3 //20 cycles: after these cycles, broadcast the RTS again<br clear="none"/></div><div><br clear="none"/></div><div>#define PROC_GRADE_BASED_ON_ADDR     1  //process the grade message according to address (1) or transmission range (0)<br clear="none"/>
#if     PROC_GRADE_BASED_ON_ADDR<br clear="none"/>
#define NODES_NUM_PER_GRADE          2<br clear="none"/>
#endif</div><div>======================================</div><div style="font-size: 21px;"><strong>Apr.13, 2015, raining</strong></div><div><br clear="none"/></div><div>一. 时间同步问题</div><div>1. 先确定clock_drift中正负号的意思。clock_drift计算方法如下：</div><div>pri_control.clock_drift = pri_control.node_state_dur - pri_control.msg_state_dur;</div><div><br clear="none"/></div><div>若值为+，在cooja上，receiver的 R 状态的起点处相对sender的 T 状态偏右，且间距会越来越大</div><div>若值为-，在cooja上，receiver的 R 状态的起点处相对sender的 T 状态偏左，且间距会越来越大</div><div><br clear="none"/></div><div><strong><span style="color: #333333; font-family: Arial;">The function</span> <span style="color: #333333; font-family: Consolas;">RTIMER_NOW()</span> <span style="color: #333333; font-family: Arial;">is used </span><span style="color: #333333; font-family: Arial;">to get the current system time in ticks and</span> <span style="color: #333333; font-family: Consolas;">RTIMER_SECOND</span> <span style="color: #333333; font-family: Arial;">specifies the number of </span><span style="color: #333333; font-family: Arial;">ticks per second.</span></strong></div><div><br clear="none"/></div><div>======================================</div><div><strong style="font-size: 21px;">Apr.08, 2015 sunning</strong> <span style="font-size: 19px;"><strong>（有关最新contiki）</strong></span></div><div><br clear="none"/></div><div>1. 在github上下载最新的contiki：</div><div>git clone <a href="https://github.com/contiki-os/contiki.git" shape="rect">https://github.com/contiki-os/contiki.git</a><br clear="none"/></div><div><br clear="none"/></div><div><b>2. 在从github上下载的新版本中，要加入新的primac，需要再core/net/mac下新建一个primac文件夹，将primac.c 和primac.h放入其中，同时修改相应平台下的makefile文件。比如，如果过用z1，则修改platform/z1下的Makefile.z1的MODULES</b></div><div><br clear="none"/></div><div>3. 原来在老版本下的primac.c需要做如下修改：</div><div>#include &quot;net/rime.h&quot;   --&gt;   #include &quot;net/rime/rime.h&quot; 。</div><div>#include &quot;net/rime/rimeaddr.h&quot; --&gt; #include &quot;net/rime/rime.h&quot;</div><div>#include &quot;net/mac/primac.h&quot;  --&gt; #include &quot;net/mac/primac/primac.h&quot; 。</div><div>所有的&quot;rimeaddr_&quot; 要改成 &quot;linkaddr_&quot;。</div><div><br clear="none"/></div><div>4. 在contiki/examples目录新建tongfei文件夹用于存放自己的应用。在改文件夹下的Makefile中需要加上下面一句：</div><div>CONTIKI_WITH_RIME = 1</div><div>否则会出现如下错误：</div><div><br clear="none"/>
&gt; make example-unicast.z1 TARGET=z1<br clear="none"/>
  CC        example-unicast.c<br clear="none"/>
  CC        ../../platform/z1/./contiki-z1-main.c<br clear="none"/>
  LD        example-unicast.z1<br clear="none"/>
contiki-z1.a(rime.o): In function `rime_sniffer_add':<br clear="none"/>
rime.c:(.any.text.rime_sniffer_add+0x0): multiple definition of `rime_sniffer_add'<br clear="none"/>
contiki-z1.a(sicslowpan.o):sicslowpan.c:(.any.text.rime_sniffer_add+0x0): first defined here<br clear="none"/>
contiki-z1.a(rime.o): In function `rime_sniffer_remove':<br clear="none"/>
rime.c:(.any.text.rime_sniffer_remove+0x0): multiple definition of `rime_sniffer_remove'<br clear="none"/>
contiki-z1.a(sicslowpan.o):sicslowpan.c:(.any.text.rime_sniffer_remove+0x0): first defined here<br clear="none"/>
collect2: error: ld returned 1 exit status<br clear="none"/>
rm obj_z1/contiki-z1-main.o example-unicast.co<br clear="none"/>
make: *** [example-unicast.z1] Error 1<br clear="none"/>
Process returned error code 2<br clear="none"/></div><div><br clear="none"/></div><div>5. 在新版本的contiki中，接受数据时，在函数 pri_input_packet中，</div><div>在函数 packetbuf_hdrreduce(hdr_len);之前，需加上</div><div>packetbuf_set_datalen(sizeof(struct *_msg_t)); 来设置buflen，否则，buflen为0，packetbuf_hdrreduce将返回0</div><div>/*---------------------------------------------------------------------------*/<br clear="none"/>
int<br clear="none"/>
packetbuf_hdrreduce(int size)<br clear="none"/>
{<br clear="none"/>
  if(buflen &lt; size) {<br clear="none"/>
    return 0;<br clear="none"/>
  }<br clear="none"/><br clear="none"/>
  bufptr += size;<br clear="none"/>
  buflen -= size;<br clear="none"/>
  return 1;<br clear="none"/>
}</div><div><br clear="none"/></div><div>6. 用cooja输出，为使空格能输出，需要修改<span style="background-color: #f7f7f7; color: #333333; font-family: Helvetica, arial, nimbussansl, liberationsans, freesans, clean, sans-serif, &apos; segoe ui emoji&apos;, &apos;segoe ui symbol&apos;; font-size: 13px;">tools/cooja/java/org/contikios/cooja/dialogs/SerialUI.java 中的</span></div><div>lastLogMessage = lastLogMessage.replaceAll(&quot;[^\\p{Print}]&quot;, &quot;&quot;); </div><div>为</div><div>lastLogMessage = lastLogMessage.replaceAll(&quot;[^\\p{Print}\\p{Blank}]&quot;, &quot;&quot;);</div><div><br clear="none"/></div><div>======================================</div><div><br clear="none"/></div><div><span style="font-size: 21px;"><strong>Apr.07, 2015  sunning</strong></span></div><div><br clear="none"/></div><div>在 函数 static void pri_init_control(void)中，原先有一句：</div><div>static pri_int_t *ptr = (pri_int_t *)&amp;pri_control;</div><div>导致定时错误，不能发送grade message.</div><div><br clear="none"/></div><div>改成：</div><div>static pri_int_t *ptr;<br clear="none"/>
ptr = (pri_int_t *)&amp;pri_control;</div><div>问题解决</div><div><br clear="none"/></div><div><br clear="none"/></div></span>
</div>
<hr>
<a name="5551"/>

<div><span><br/><div style="font-size: 16px"><div style="outline:0px;font-size:100%;vertical-align:baseline;background:transparent;-webkit-font-smoothing:antialiased;overflow-y:scroll;"><div style="font-weight:normal;outline:0px;vertical-align:baseline;background:transparent;font-style:normal;font-variant:normal;font-size:13px;font-stretch:normal;font-family:sans-serif;line-height:18px;color:rgb(85, 85, 85);background-color:white;"><div style="outline:0px;font-size:100%;vertical-align:baseline;background:transparent;overflow:hidden;"><div style="outline:0px;font-size:100%;vertical-align:baseline;background:rgb(229, 229, 229);border-bottom-left-radius:4px;border-bottom-right-radius:4px;overflow:hidden;"><div style="outline:0px;font-size:100%;vertical-align:baseline;background:rgb(255, 255, 255);overflow:hidden;border-radius:4px;">
                <h2 style="margin-bottom:1.5em;margin:0px;line-height:36px;outline:0px;font-family:Ubuntu, sans-serif;vertical-align:baseline;background:transparent;text-rendering:optimizeLegibility;background-size:100%;font-weight:normal;border:none;padding:5px 10px;color:rgb(255, 255, 255);background-image:linear-gradient(rgb(102, 102, 102), rgb(85, 85, 85));background-color:rgb(85, 85, 85);font-size:14px;text-shadow:rgba(0, 0, 0, 0.0980392) 0px -1px 0px;z-index:20;position:relative;border-top-left-radius:3px;border-top-right-radius:3px;white-space:nowrap;">[Contiki-developers] transmission power
                    
                    <small style="text-transform:none;margin:0px;border:0px;outline:0px;font-size:85%;vertical-align:baseline;background:transparent;padding:0px;position:absolute;right:0px;top:5px;padding-right:5px;text-align:center;background-image:linear-gradient(rgb(102, 102, 102) 0%, rgb(85, 85, 85) 100%);background-color:rgb(85, 85, 85);">
                        
                    </small>
                    
                </h2>
                
                <div style="margin:0px;padding:0px;border:0px;outline:0px;font-size:100%;vertical-align:baseline;background:transparent;">
                    
                    
  

<table style="outline:0px;font-size:inherit;font-style:inherit;font-variant:inherit;margin:0px;padding:0px;border:0px;font-weight:inherit;vertical-align:baseline;background:transparent;border-collapse:collapse;border-spacing:0px;margin-bottom:20px;width:765px;margin-left:10px;">
<tbody style="margin:0px;padding:0px;border:0px;outline:0px;font-size:100%;vertical-align:baseline;background:transparent;"><tr style="margin:0px;padding:0px;border:0px;outline:0px;font-size:100%;vertical-align:baseline;background:transparent;">
  <td style="background:transparent;margin:0px;border:0px;outline:0px;font-size:100%;vertical-align:middle;padding:5px 10px;border-bottom-width:1px;border-bottom-style:solid;border-bottom-color:rgb(229, 229, 229);text-align:left;white-space:nowrap;background-color:rgb(221, 221, 221);">
    <div style="margin:0px;padding:0px;border:0px;outline:0px;font-size:100%;vertical-align:baseline;background:transparent;">
      <div style="margin:0px;padding:0px;border:0px;outline:0px;font-size:100%;vertical-align:baseline;background:transparent;"><b style="margin:0px;padding:0px;border:0px;outline:0px;font-size:100%;vertical-align:baseline;background:transparent;"><a href="http://sourceforge.net/p/contiki/mailman/message/27302619/" style="margin:0px;padding:0px;font-size:100%;vertical-align:baseline;outline:none;color:rgb(0, 119, 170);text-decoration:none;background:transparent;-webkit-tap-highlight-color:rgb(0, 119, 170);">[Contiki-developers] transmission power</a></b></div>
      
      <small style="margin:0px;padding:0px;border:0px;outline:0px;font-size:85%;vertical-align:baseline;background:transparent;">From: Olfa &lt;olfa.gaddour@ce...&gt; - 2011-04-03 18:27:40</small>
      <div style="margin:0px;padding:0px;border:0px;outline:0px;font-size:100%;vertical-align:baseline;background:transparent;">
        <small style="margin:0px;padding:0px;border:0px;outline:0px;font-size:85%;vertical-align:baseline;background:transparent;">
          
        </small>
      </div>
    </div>
  </td>
</tr>
<tr style="margin:0px;padding:0px;border:0px;outline:0px;font-size:100%;vertical-align:baseline;background:transparent;">
  <td style="vertical-align:middle;margin:0px;border:0px;outline:0px;font-size:100%;background:transparent;padding:5px 10px;border-bottom-width:1px;border-bottom-style:solid;border-bottom-color:rgb(229, 229, 229);text-align:left;"><pre style="font-family:monospace, sans-serif;margin:0px;border:0px;outline:0px;font-size:100%;vertical-align:baseline;background:transparent;padding:15px;overflow:auto;word-wrap:break-word;white-space:pre-wrap;border-left-width:1px;border-left-style:solid;border-left-color:rgb(229, 229, 229);">Hello,
Please can someone tell me what is the transmitted power of the contikisky motes 
simulated in cooja?

Best Regards,
Olfa



</pre></td>
</tr>
</tbody></table>
  
    <hr style="padding:2px;clear:both;height:1px;border-top-style:solid;border-top-color:rgb(204, 204, 204);margin:1em 0px;display:block;border:1px solid rgb(170, 170, 170);border-radius:2px;background-color:rgb(229, 229, 229);width:760px;margin-left:10px;"/>
    <h3 style="vertical-align:baseline;margin:0px;border:0px;outline:0px;font-size:100%;font-family:Ubuntu, sans-serif;background:transparent;text-rendering:optimizeLegibility;font-weight:bold;padding:0px 10px 1em;margin-bottom:0px;">Thread view</h3>
    
<div style="margin:0px;padding:0px;border:0px;outline:0px;font-size:100%;vertical-align:baseline;background:transparent;margin-left:0px;">
  

<table style="outline:0px;font-size:inherit;font-style:inherit;font-variant:inherit;margin:0px;padding:0px;border:0px;font-weight:inherit;vertical-align:baseline;background:transparent;border-collapse:collapse;border-spacing:0px;margin-bottom:20px;width:765px;margin-left:10px;">
<tbody style="margin:0px;padding:0px;border:0px;outline:0px;font-size:100%;vertical-align:baseline;background:transparent;"><tr style="margin:0px;padding:0px;border:0px;outline:0px;font-size:100%;vertical-align:baseline;background:transparent;">
  <td style="background:transparent;margin:0px;border:0px;outline:0px;font-size:100%;vertical-align:middle;padding:5px 10px;border-bottom-width:1px;border-bottom-style:solid;border-bottom-color:rgb(229, 229, 229);text-align:left;white-space:nowrap;background-color:rgb(221, 221, 221);">
    <div style="margin:0px;padding:0px;border:0px;outline:0px;font-size:100%;vertical-align:baseline;background:transparent;">
      <div style="margin:0px;padding:0px;border:0px;outline:0px;font-size:100%;vertical-align:baseline;background:transparent;"><b style="margin:0px;padding:0px;border:0px;outline:0px;font-size:100%;vertical-align:baseline;background:transparent;"><a href="http://sourceforge.net/p/contiki/mailman/message/27302619/" style="margin:0px;padding:0px;font-size:100%;vertical-align:baseline;outline:none;color:rgb(0, 119, 170);text-decoration:none;background:transparent;-webkit-tap-highlight-color:rgb(0, 119, 170);">[Contiki-developers] transmission power</a></b></div>
      
      <small style="margin:0px;padding:0px;border:0px;outline:0px;font-size:85%;vertical-align:baseline;background:transparent;">From: Olfa &lt;olfa.gaddour@ce...&gt; - 2011-04-03 18:27:40</small>
      <div style="margin:0px;padding:0px;border:0px;outline:0px;font-size:100%;vertical-align:baseline;background:transparent;">
        <small style="margin:0px;padding:0px;border:0px;outline:0px;font-size:85%;vertical-align:baseline;background:transparent;">
          
        </small>
      </div>
    </div>
  </td>
</tr>
<tr style="margin:0px;padding:0px;border:0px;outline:0px;font-size:100%;vertical-align:baseline;background:transparent;">
  <td style="vertical-align:middle;margin:0px;border:0px;outline:0px;font-size:100%;background:transparent;padding:5px 10px;border-bottom-width:1px;border-bottom-style:solid;border-bottom-color:rgb(229, 229, 229);text-align:left;"><pre style="font-family:monospace, sans-serif;margin:0px;border:0px;outline:0px;font-size:100%;vertical-align:baseline;background:transparent;padding:15px;overflow:auto;word-wrap:break-word;white-space:pre-wrap;border-left-width:1px;border-left-style:solid;border-left-color:rgb(229, 229, 229);">Hello,
Please can someone tell me what is the transmitted power of the contikisky motes 
simulated in cooja?

Best Regards,
Olfa



</pre></td>
</tr>
</tbody></table>
</div>

<div style="margin:0px;padding:0px;border:0px;outline:0px;font-size:100%;vertical-align:baseline;background:transparent;margin-left:20px;">
  

<table style="outline:0px;font-size:inherit;font-style:inherit;font-variant:inherit;margin:0px;padding:0px;border:0px;font-weight:inherit;vertical-align:baseline;background:transparent;border-collapse:collapse;border-spacing:0px;margin-bottom:20px;width:765px;margin-left:10px;">
<tbody style="margin:0px;padding:0px;border:0px;outline:0px;font-size:100%;vertical-align:baseline;background:transparent;"><tr style="margin:0px;padding:0px;border:0px;outline:0px;font-size:100%;vertical-align:baseline;background:transparent;">
  <td style="background:transparent;margin:0px;border:0px;outline:0px;font-size:100%;vertical-align:middle;padding:5px 10px;border-bottom-width:1px;border-bottom-style:solid;border-bottom-color:rgb(229, 229, 229);text-align:left;white-space:nowrap;background-color:rgb(221, 221, 221);">
    <div style="margin:0px;padding:0px;border:0px;outline:0px;font-size:100%;vertical-align:baseline;background:transparent;">
      <div style="margin:0px;padding:0px;border:0px;outline:0px;font-size:100%;vertical-align:baseline;background:transparent;"><b style="margin:0px;padding:0px;border:0px;outline:0px;font-size:100%;vertical-align:baseline;background:transparent;"><a href="http://sourceforge.net/p/contiki/mailman/message/27310555/" style="margin:0px;padding:0px;font-size:100%;vertical-align:baseline;outline:none;color:rgb(0, 119, 170);text-decoration:none;background:transparent;-webkit-tap-highlight-color:rgb(0, 119, 170);">Re: [Contiki-developers] transmission power</a></b></div>
      
      <small style="margin:0px;padding:0px;border:0px;outline:0px;font-size:85%;vertical-align:baseline;background:transparent;">From: ali jatt &lt;alijatt84@go...&gt; - 2011-04-05 07:02:43</small>
      <div style="margin:0px;padding:0px;border:0px;outline:0px;font-size:100%;vertical-align:baseline;background:transparent;">
        <small style="margin:0px;padding:0px;border:0px;outline:0px;font-size:85%;vertical-align:baseline;background:transparent;">
          
            <b style="margin:0px;padding:0px;border:0px;outline:0px;font-size:100%;vertical-align:baseline;background:transparent;">Attachments:</b>
            <a href="http://sourceforge.net/p/contiki/mailman/attachment/BANLkTin82vgXhyt0JkXDdUdXCMZvVOTKfA%40mail.gmail.com/1/" style="margin:0px;padding:0px;font-size:100%;vertical-align:baseline;outline:none;color:rgb(0, 119, 170);text-decoration:none;background:transparent;-webkit-tap-highlight-color:rgb(0, 119, 170);">Message as HTML</a>    
          
        </small>
      </div>
    </div>
  </td>
</tr>
<tr style="margin:0px;padding:0px;border:0px;outline:0px;font-size:100%;vertical-align:baseline;background:transparent;">
  <td style="vertical-align:middle;margin:0px;border:0px;outline:0px;font-size:100%;background:transparent;padding:5px 10px;border-bottom-width:1px;border-bottom-style:solid;border-bottom-color:rgb(229, 229, 229);text-align:left;"><pre style="font-family:monospace, sans-serif;margin:0px;border:0px;outline:0px;font-size:100%;vertical-align:baseline;background:transparent;padding:15px;overflow:auto;word-wrap:break-word;white-space:pre-wrap;border-left-width:1px;border-left-style:solid;border-left-color:rgb(229, 229, 229);">Hi Olfa,
I believe the default transmission power of tmote sky in cooja is the
maximum available radio output power level which is 31. In any case you can
control transmission power level according to your needs using the function
call cc2420_set_txpower(desired_power_level), where desired_power_level
could be any of the following values (in the increasing order of intensity):
3, 7, 11, 15, 19, 23, 27, 31
Best Regards,
--ali


On Sun, Apr 3, 2011 at 8:27 PM, Olfa &lt;olfa.gaddour@...&gt; wrote:

&gt; Hello,
&gt; Please can someone tell me what is the transmitted power of the contikisky
&gt; motes
&gt; simulated in cooja?
&gt;
&gt; Best Regards,
&gt; Olfa
&gt;
&gt;
&gt;
&gt; ------------------------------------------------------------------------------
&gt; Create and publish websites with WebMatrix
&gt; Use the most popular FREE web apps or write code yourself;
&gt; WebMatrix provides all the features you need to develop and
&gt; publish your website. <a href="http://p.sf.net/sfu/ms-webmatrix-sf" rel="nofollow" style="margin:0px;padding:0px;font-size:100%;vertical-align:baseline;outline:none;color:rgb(0, 119, 170);text-decoration:none;background:transparent;-webkit-tap-highlight-color:rgb(0, 119, 170);">http://p.sf.net/sfu/ms-webmatrix-sf</a>
&gt; _______________________________________________
&gt; Contiki-developers mailing list
&gt; Contiki-developers@...
&gt; <a href="https://lists.sourceforge.net/lists/listinfo/contiki-developers" rel="nofollow" style="margin:0px;padding:0px;font-size:100%;vertical-align:baseline;outline:none;color:rgb(0, 119, 170);text-decoration:none;background:transparent;-webkit-tap-highlight-color:rgb(0, 119, 170);">https://lists.sourceforge.net/lists/listinfo/contiki-developers</a>
&gt;
</pre></td>
</tr>
</tbody></table>
</div>

<div style="margin:0px;padding:0px;border:0px;outline:0px;font-size:100%;vertical-align:baseline;background:transparent;margin-left:40px;">
  

<table style="outline:0px;font-size:inherit;font-style:inherit;font-variant:inherit;margin:0px;padding:0px;border:0px;font-weight:inherit;vertical-align:baseline;background:transparent;border-collapse:collapse;border-spacing:0px;margin-bottom:20px;width:765px;margin-left:10px;">
<tbody style="margin:0px;padding:0px;border:0px;outline:0px;font-size:100%;vertical-align:baseline;background:transparent;"><tr style="margin:0px;padding:0px;border:0px;outline:0px;font-size:100%;vertical-align:baseline;background:transparent;">
  <td style="background:transparent;margin:0px;border:0px;outline:0px;font-size:100%;vertical-align:middle;padding:5px 10px;border-bottom-width:1px;border-bottom-style:solid;border-bottom-color:rgb(229, 229, 229);text-align:left;white-space:nowrap;background-color:rgb(221, 221, 221);">
    <div style="margin:0px;padding:0px;border:0px;outline:0px;font-size:100%;vertical-align:baseline;background:transparent;">
      <div style="margin:0px;padding:0px;border:0px;outline:0px;font-size:100%;vertical-align:baseline;background:transparent;"><b style="margin:0px;padding:0px;border:0px;outline:0px;font-size:100%;vertical-align:baseline;background:transparent;"><a href="http://sourceforge.net/p/contiki/mailman/message/27407090/" style="margin:0px;padding:0px;font-size:100%;vertical-align:baseline;outline:none;color:rgb(0, 119, 170);text-decoration:none;background:transparent;-webkit-tap-highlight-color:rgb(0, 119, 170);">Re: [Contiki-developers] transmission power</a></b></div>
      
      <small style="margin:0px;padding:0px;border:0px;outline:0px;font-size:85%;vertical-align:baseline;background:transparent;">From: Olfa GADDOUR &lt;olfa.gaddour@ce...&gt; - 2011-04-25 10:34:38</small>
      <div style="margin:0px;padding:0px;border:0px;outline:0px;font-size:100%;vertical-align:baseline;background:transparent;">
        <small style="margin:0px;padding:0px;border:0px;outline:0px;font-size:85%;vertical-align:baseline;background:transparent;">
          
            <b style="margin:0px;padding:0px;border:0px;outline:0px;font-size:100%;vertical-align:baseline;background:transparent;">Attachments:</b>
            <a href="http://sourceforge.net/p/contiki/mailman/attachment/4DB55822.5010703%40ceslab.org/1/" style="margin:0px;padding:0px;font-size:100%;vertical-align:baseline;outline:none;color:rgb(0, 119, 170);text-decoration:none;background:transparent;-webkit-tap-highlight-color:rgb(0, 119, 170);">Message as HTML</a>    
          
        </small>
      </div>
    </div>
  </td>
</tr>
<tr style="margin:0px;padding:0px;border:0px;outline:0px;font-size:100%;vertical-align:baseline;background:transparent;">
  <td style="vertical-align:middle;margin:0px;border:0px;outline:0px;font-size:100%;background:transparent;padding:5px 10px;border-bottom-width:1px;border-bottom-style:solid;border-bottom-color:rgb(229, 229, 229);text-align:left;"><pre style="font-family:monospace, sans-serif;margin:0px;border:0px;outline:0px;font-size:100%;vertical-align:baseline;background:transparent;padding:15px;overflow:auto;word-wrap:break-word;white-space:pre-wrap;border-left-width:1px;border-left-style:solid;border-left-color:rgb(229, 229, 229);">Thank you for your answer,
but where can I call the function cc2420_set_txpower(desired_power_level)?
I want to test it with rpl-collect application to see the impact of the 
transmission power.

Best Regards,

Olfa
Le 05/04/2011 08:02, ali jatt a écrit :
&gt; Hi Olfa,
&gt; I believe the default transmission power of tmote sky in cooja is the 
&gt; maximum available radio output power level which is 31. In any case 
&gt; you can control transmission power level according to your needs using 
&gt; the function call cc2420_set_txpower(desired_power_level), where 
&gt; desired_power_level could be any of the following values (in the 
&gt; increasing order of intensity):
&gt; 3, 7, 11, 15, 19, 23, 27, 31
&gt; Best Regards,
&gt; --ali
&gt;
&gt;
&gt; On Sun, Apr 3, 2011 at 8:27 PM, Olfa &lt;olfa.gaddour@... 
&gt; &lt;mailto:olfa.gaddour@...&gt;&gt; wrote:
&gt;
&gt;     Hello,
&gt;     Please can someone tell me what is the transmitted power of the
&gt;     contikisky motes
&gt;     simulated in cooja?
&gt;
&gt;     Best Regards,
&gt;     Olfa
&gt;
&gt;
&gt;     ------------------------------------------------------------------------------
&gt;     Create and publish websites with WebMatrix
&gt;     Use the most popular FREE web apps or write code yourself;
&gt;     WebMatrix provides all the features you need to develop and
&gt;     publish your website. <a href="http://p.sf.net/sfu/ms-webmatrix-sf" rel="nofollow" style="margin:0px;padding:0px;font-size:100%;vertical-align:baseline;outline:none;color:rgb(0, 119, 170);text-decoration:none;background:transparent;-webkit-tap-highlight-color:rgb(0, 119, 170);">http://p.sf.net/sfu/ms-webmatrix-sf</a>
&gt;     _______________________________________________
&gt;     Contiki-developers mailing list
&gt;     Contiki-developers@...
&gt;     &lt;mailto:Contiki-developers@...&gt;
&gt;     <a href="https://lists.sourceforge.net/lists/listinfo/contiki-developers" rel="nofollow" style="margin:0px;padding:0px;font-size:100%;vertical-align:baseline;outline:none;color:rgb(0, 119, 170);text-decoration:none;background:transparent;-webkit-tap-highlight-color:rgb(0, 119, 170);">https://lists.sourceforge.net/lists/listinfo/contiki-developers</a>
&gt;
&gt;
&gt;
&gt; ------------------------------------------------------------------------------
&gt; Xperia(TM) PLAY
&gt; It's a major breakthrough. An authentic gaming
&gt; smartphone on the nation's most reliable network.
&gt; And it wants your games.
&gt; <a href="http://p.sf.net/sfu/verizon-sfdev" rel="nofollow" style="margin:0px;padding:0px;font-size:100%;vertical-align:baseline;outline:none;color:rgb(0, 119, 170);text-decoration:none;background:transparent;-webkit-tap-highlight-color:rgb(0, 119, 170);">http://p.sf.net/sfu/verizon-sfdev</a>
&gt;
&gt;
&gt; _______________________________________________
&gt; Contiki-developers mailing list
&gt; Contiki-developers@...
&gt; <a href="https://lists.sourceforge.net/lists/listinfo/contiki-developers" rel="nofollow" style="margin:0px;padding:0px;font-size:100%;vertical-align:baseline;outline:none;color:rgb(0, 119, 170);text-decoration:none;background:transparent;-webkit-tap-highlight-color:rgb(0, 119, 170);">https://lists.sourceforge.net/lists/listinfo/contiki-developers</a>


-- 
*************************************************************************
*GADDOUR Olfa*
University Of Sfax
PHD Student Researcher in CES LAB,National School of Engineers of Sfax(ENIS)
Sokkra Road, Km 3.5, 3017 Sfax (Tunisia)
olfa.gaddour@...
<a href="http://www.ceslab.org/fr/perso.php?id=91" rel="nofollow" style="margin:0px;padding:0px;font-size:100%;vertical-align:baseline;outline:none;color:rgb(0, 119, 170);text-decoration:none;background:transparent;-webkit-tap-highlight-color:rgb(0, 119, 170);">http://www.ceslab.org/fr/perso.php?id=91</a>

*************************************************************************
</pre></td>
</tr>
</tbody></table>
</div>

<div style="margin:0px;padding:0px;border:0px;outline:0px;font-size:100%;vertical-align:baseline;background:transparent;margin-left:20px;">
  

<table style="outline:0px;font-size:inherit;font-style:inherit;font-variant:inherit;margin:0px;padding:0px;border:0px;font-weight:inherit;vertical-align:baseline;background:transparent;border-collapse:collapse;border-spacing:0px;margin-bottom:20px;width:765px;margin-left:10px;">
<tbody style="margin:0px;padding:0px;border:0px;outline:0px;font-size:100%;vertical-align:baseline;background:transparent;"><tr style="margin:0px;padding:0px;border:0px;outline:0px;font-size:100%;vertical-align:baseline;background:transparent;">
  <td style="background:transparent;margin:0px;border:0px;outline:0px;font-size:100%;vertical-align:middle;padding:5px 10px;border-bottom-width:1px;border-bottom-style:solid;border-bottom-color:rgb(229, 229, 229);text-align:left;white-space:nowrap;background-color:rgb(221, 221, 221);">
    <div style="margin:0px;padding:0px;border:0px;outline:0px;font-size:100%;vertical-align:baseline;background:transparent;">
      <div style="margin:0px;padding:0px;border:0px;outline:0px;font-size:100%;vertical-align:baseline;background:transparent;"><b style="margin:0px;padding:0px;border:0px;outline:0px;font-size:100%;vertical-align:baseline;background:transparent;"><a href="http://sourceforge.net/p/contiki/mailman/message/27358810/" style="margin:0px;padding:0px;font-size:100%;vertical-align:baseline;outline:none;color:rgb(0, 119, 170);text-decoration:none;background:transparent;-webkit-tap-highlight-color:rgb(0, 119, 170);">Re: [Contiki-developers] transmission power</a></b></div>
      
      <small style="margin:0px;padding:0px;border:0px;outline:0px;font-size:85%;vertical-align:baseline;background:transparent;">From: Fredrik Österlind &lt;fros@si...&gt; - 2011-04-14 08:12:25</small>
      <div style="margin:0px;padding:0px;border:0px;outline:0px;font-size:100%;vertical-align:baseline;background:transparent;">
        <small style="margin:0px;padding:0px;border:0px;outline:0px;font-size:85%;vertical-align:baseline;background:transparent;">
          
        </small>
      </div>
    </div>
  </td>
</tr>
<tr style="margin:0px;padding:0px;border:0px;outline:0px;font-size:100%;vertical-align:baseline;background:transparent;">
  <td style="vertical-align:middle;margin:0px;border:0px;outline:0px;font-size:100%;background:transparent;padding:5px 10px;border-bottom-width:1px;border-bottom-style:solid;border-bottom-color:rgb(229, 229, 229);text-align:left;"><pre style="font-family:monospace, sans-serif;margin:0px;border:0px;outline:0px;font-size:100%;vertical-align:baseline;background:transparent;padding:15px;overflow:auto;word-wrap:break-word;white-space:pre-wrap;border-left-width:1px;border-left-style:solid;border-left-color:rgb(229, 229, 229);">Hi,

(Note: If you just want to increase the transmission range of ALL nodes, 
you can do so in the Visualizer plugin, by activating the radio medium 
skin, and right-clicking a node.)


The default output power COOJA simulates is whatever Contiki is 
configured to use (which is by default the maximum: 0dB).

COOJA alters the transmission range of simulated nodes depending on the 
configured tx power.

You can change Contiki's transmission power using:
--------
/**
  * \param power Between 1 and 31.
  */
void cc2420_set_txpower(uint8_t power);
int cc2420_get_txpower(void);
#define CC2420_TXPOWER_MAX  31
#define CC2420_TXPOWER_MIN   0
--------

This is useful if you want different nodes to have different range, but 
do not want to use another simulated radio medium (more difficult to 
configure).


Best,
Fredrik

Olfa skrev 2011-04-03 20:27:
&gt; Hello,
&gt; Please can someone tell me what is the transmitted power of the contikisky motes
&gt; simulated in cooja?
&gt;
&gt; Best Regards,
&gt; Olfa
&gt;
&gt;
&gt; ------------------------------------------------------------------------------
&gt; Create and publish websites with WebMatrix
&gt; Use the most popular FREE web apps or write code yourself;
&gt; WebMatrix provides all the features you need to develop and
&gt; publish your website. <a href="http://p.sf.net/sfu/ms-webmatrix-sf" rel="nofollow" style="margin:0px;padding:0px;font-size:100%;vertical-align:baseline;outline:none;color:rgb(0, 119, 170);text-decoration:none;background:transparent;-webkit-tap-highlight-color:rgb(0, 119, 170);">http://p.sf.net/sfu/ms-webmatrix-sf</a>
&gt; _______________________________________________
&gt; Contiki-developers mailing list
&gt; Contiki-developers@...
&gt; <a href="https://lists.sourceforge.net/lists/listinfo/contiki-developers" rel="nofollow" style="margin:0px;padding:0px;font-size:100%;vertical-align:baseline;outline:none;color:rgb(0, 119, 170);text-decoration:none;background:transparent;-webkit-tap-highlight-color:rgb(0, 119, 170);">https://lists.sourceforge.net/lists/listinfo/contiki-developers</a>



</pre></td>
</tr>
</tbody></table>
</div>

<div style="margin:0px;padding:0px;border:0px;outline:0px;font-size:100%;vertical-align:baseline;background:transparent;margin-left:40px;">
  

<table style="outline:0px;font-size:inherit;font-style:inherit;font-variant:inherit;margin:0px;padding:0px;border:0px;font-weight:inherit;vertical-align:baseline;background:transparent;border-collapse:collapse;border-spacing:0px;margin-bottom:20px;width:765px;margin-left:10px;">
<tbody style="margin:0px;padding:0px;border:0px;outline:0px;font-size:100%;vertical-align:baseline;background:transparent;"><tr style="margin:0px;padding:0px;border:0px;outline:0px;font-size:100%;vertical-align:baseline;background:transparent;">
  <td style="background:transparent;margin:0px;border:0px;outline:0px;font-size:100%;vertical-align:middle;padding:5px 10px;border-bottom-width:1px;border-bottom-style:solid;border-bottom-color:rgb(229, 229, 229);text-align:left;white-space:nowrap;background-color:rgb(221, 221, 221);">
    <div style="margin:0px;padding:0px;border:0px;outline:0px;font-size:100%;vertical-align:baseline;background:transparent;">
      <div style="margin:0px;padding:0px;border:0px;outline:0px;font-size:100%;vertical-align:baseline;background:transparent;"><b style="margin:0px;padding:0px;border:0px;outline:0px;font-size:100%;vertical-align:baseline;background:transparent;"><a href="http://sourceforge.net/p/contiki/mailman/message/27359589/" style="margin:0px;padding:0px;font-size:100%;vertical-align:baseline;outline:none;color:rgb(0, 119, 170);text-decoration:none;background:transparent;-webkit-tap-highlight-color:rgb(0, 119, 170);">Re: [Contiki-developers] transmission power</a></b></div>
      
      <small style="margin:0px;padding:0px;border:0px;outline:0px;font-size:85%;vertical-align:baseline;background:transparent;">From: Filip Jurnečka &lt;172641@ma...&gt; - 2011-04-14 11:31:03</small>
      <div style="margin:0px;padding:0px;border:0px;outline:0px;font-size:100%;vertical-align:baseline;background:transparent;">
        <small style="margin:0px;padding:0px;border:0px;outline:0px;font-size:85%;vertical-align:baseline;background:transparent;">
          
        </small>
      </div>
    </div>
  </td>
</tr>
<tr style="margin:0px;padding:0px;border:0px;outline:0px;font-size:100%;vertical-align:baseline;background:transparent;">
  <td style="vertical-align:middle;margin:0px;border:0px;outline:0px;font-size:100%;background:transparent;padding:5px 10px;border-bottom-width:1px;border-bottom-style:solid;border-bottom-color:rgb(229, 229, 229);text-align:left;"><pre style="font-family:monospace, sans-serif;margin:0px;border:0px;outline:0px;font-size:100%;vertical-align:baseline;background:transparent;padding:15px;overflow:auto;word-wrap:break-word;white-space:pre-wrap;border-left-width:1px;border-left-style:solid;border-left-color:rgb(229, 229, 229);">Hi list,

are you sure, this piece of code is correct?

&gt;
&gt; You can change Contiki's transmission power using:
&gt; --------
&gt; /**
&gt;   * \param power Between 1 and 31.
&gt;   */
&gt; void cc2420_set_txpower(uint8_t power);
&gt; int cc2420_get_txpower(void);
&gt; #define CC2420_TXPOWER_MAX  31
&gt; #define CC2420_TXPOWER_MIN   0
&gt; --------
&gt;

Firstly, the comment suggests the min value is 1, but the MIN is defined  
to 0.
Additionally, if you take a look at the definition  
<a href="http://www-mtl.mit.edu/Courses/6.111/labkit/datasheets/CC2420.pdf" rel="nofollow" style="margin:0px;padding:0px;font-size:100%;vertical-align:baseline;outline:none;color:rgb(0, 119, 170);text-decoration:none;background:transparent;-webkit-tap-highlight-color:rgb(0, 119, 170);">http://www-mtl.mit.edu/Courses/6.111/labkit/datasheets/CC2420.pdf</a> in the  
section 28 is a table:


PA_LEVEL   TXCTRL 		register Output Power [dBm] Current Consumption [mA]
31 		0xA0FF 		0 		  				17.4
27 		0xA0FB 		-1 		 				16.5
23 		0xA0F7 		-3 		 				15.2
19 		0xA0F3 		-5 		 				13.9
15 		0xA0EF 		-7 		 				12.5
11 		0xA0EB 		-10 						11.2
7 		 0xA0E7 		-15 						9.9
3 		 0xA0E3 		-25 						8.5
Table 9. Output power settings and typical current consumption @ 2.45 GHz


</pre></td>
</tr>
</tbody></table>
</div>

  

                </div>
                
                
            </div></div></div></div></div></div><br/></span>
</div></body></html> 